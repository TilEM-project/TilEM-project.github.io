<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Image Processing Pipeline - TEM Architecture</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
<!-- <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.-.min.css"/> -->
<link rel="stylesheet" href="/TEM_architecture/assets/css/style.css"/>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/font-awesome.min.css"> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  }
};
</script>

  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <!-- <div class="mdl-layout--fixed-header mdl-layout__header--scroll"> -->
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout-title">
        <a href="/TEM_architecture/">TEM Architecture</a>
      </span>
      <div class="mdl-layout-spacer mdl-layout--large-screen-only"></div>
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        
          <a class="mdl-navigation__link" href="/TEM_architecture/topics.html">Topics</a>
        
          <a class="mdl-navigation__link" href="/TEM_architecture/assignments.html">Assignments</a>
        
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">TEM Architecture</span>
    <nav class="mdl-navigation">
      
        <a class="mdl-navigation__link" href="/TEM_architecture/topics.html">Topics</a>
        
      
        <a class="mdl-navigation__link" href="/TEM_architecture/assignments.html">Assignments</a>
        
      
        <a class="mdl-navigation__link" href="/TEM_architecture/unassigned.html">Unassigned</a>
        
      
    </nav>
  </div>
<!-- </div> -->

      <main class="mdl-layout__content">
        <div class="mdl-grid page-container">
    <div class="mdl-card mdl-cell--12-col mdl-shadow--4dp">
        <div class="mdl-card__title">
            <h2 class="mdl-card__title--text">
                Image Processing Pipeline
            </h2>
        </div>
        
  <div class="mdl-card__supporting-text mdl-card--border">
    
      <p style="font-size: large;" class="mdl-card__subtitle-text">
        <i style="color:black;" class="fab fa-github"></i>
        <a href="https://github.com/AllenInstitute/TEM_graph">AllenInstitute/TEM_graph</a>
      </p>
    
    
    
      <h3>Sends</h3>
      <ul>
        
        
          <li><a href="/TEM_architecture/topics.html#tile-jpeg">tile.jpeg</a></li>
        
          <li><a href="/TEM_architecture/topics.html#tile-minimap">tile.minimap</a></li>
        
          <li><a href="/TEM_architecture/topics.html#tile-processed">tile.processed</a></li>
        
          <li><a href="/TEM_architecture/topics.html#tile-statistics-focus">tile.statistics.focus</a></li>
        
          <li><a href="/TEM_architecture/topics.html#tile-statistics-histogram">tile.statistics.histogram</a></li>
        
          <li><a href="/TEM_architecture/topics.html#tile-statistics-min_max_mean">tile.statistics.min_max_mean</a></li>
        
          <li><a href="/TEM_architecture/topics.html#tile-transform">tile.transform</a></li>
        
      </ul>
    
    
      <h3>Receives</h3>
      <ul>
        
        
          <li><a href="/TEM_architecture/topics.html#tile-raw">tile.raw</a></li>
        
      </ul>
    
  </div>

<div class="mdl-card__supporting-text">
  
    <h3>Table of Contents</h3>
  
  <ul id="toc" class="section-nav">
<li class="toc-entry toc-h3"><a href="#introduction">Introduction</a></li>
<li class="toc-entry toc-h3"><a href="#functionality">Functionality</a>
<ul>
<li class="toc-entry toc-h4"><a href="#receive-tile-filepath">Receive Tile Filepath</a></li>
<li class="toc-entry toc-h4"><a href="#load-tile">Load Tile</a></li>
<li class="toc-entry toc-h4"><a href="#transfer-to-gpu">Transfer to GPU</a></li>
<li class="toc-entry toc-h4"><a href="#flip">Flip</a></li>
<li class="toc-entry toc-h4"><a href="#flat-field-correction">Flat-Field Correction</a></li>
<li class="toc-entry toc-h4"><a href="#clahe">CLAHE</a></li>
<li class="toc-entry toc-h4"><a href="#lens-correction">Lens Correction</a></li>
<li class="toc-entry toc-h4"><a href="#transfer-to-cpu-memory">Transfer to CPU Memory</a></li>
<li class="toc-entry toc-h4"><a href="#save-tile">Save Tile</a></li>
<li class="toc-entry toc-h4"><a href="#send-tile-filepath">Send Tile Filepath</a></li>
<li class="toc-entry toc-h4"><a href="#tile-matcher">Tile Matcher</a></li>
<li class="toc-entry toc-h4"><a href="#send-transform">Send Transform</a></li>
<li class="toc-entry toc-h4"><a href="#minimap-to-cpu-memory">Minimap to CPU Memory</a></li>
<li class="toc-entry toc-h4"><a href="#save-minimap">Save Minimap</a></li>
<li class="toc-entry toc-h4"><a href="#send-minimap">Send Minimap</a></li>
<li class="toc-entry toc-h4"><a href="#min-max-mean">Min, Max, Mean</a></li>
<li class="toc-entry toc-h4"><a href="#send-min-max-mean">Send Min, Max, Mean</a></li>
<li class="toc-entry toc-h4"><a href="#fft">FFT</a></li>
<li class="toc-entry toc-h4"><a href="#focus-score">Focus Score</a></li>
<li class="toc-entry toc-h4"><a href="#send-focus-score">Send Focus Score</a></li>
<li class="toc-entry toc-h4"><a href="#clone">Clone</a></li>
<li class="toc-entry toc-h4"><a href="#down-sample">Down-sample</a></li>
<li class="toc-entry toc-h4"><a href="#down-sampled-image-to-cpu-memory">Down-sampled Image to CPU Memory</a></li>
<li class="toc-entry toc-h4"><a href="#save-jpeg">Save JPEG</a></li>
<li class="toc-entry toc-h4"><a href="#send-jpeg-filepath">Send JPEG Filepath</a></li>
<li class="toc-entry toc-h4"><a href="#histogram-transfer-to-cpu-memory">Histogram Transfer to CPU Memory</a></li>
<li class="toc-entry toc-h4"><a href="#calculate-histogram">Calculate Histogram</a></li>
<li class="toc-entry toc-h4"><a href="#save-histogram">Save Histogram</a></li>
<li class="toc-entry toc-h4"><a href="#send-histogram">Send Histogram</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#nodes">Nodes</a>
<ul>
<li class="toc-entry toc-h4"><a href="#imreadnode">IMReadNode</a></li>
<li class="toc-entry toc-h4"><a href="#imwritenode">IMWriteNode</a></li>
<li class="toc-entry toc-h4"><a href="#togpunode">ToGPUNode</a></li>
<li class="toc-entry toc-h4"><a href="#fromgpunode">FromGPUNode</a></li>
<li class="toc-entry toc-h4"><a href="#clonenode">CloneNode</a></li>
<li class="toc-entry toc-h4"><a href="#clonenodegpu">CloneNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#flipnode">FlipNode</a></li>
<li class="toc-entry toc-h4"><a href="#flipnodegpu">FlipNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#resizenode">ResizeNode</a></li>
<li class="toc-entry toc-h4"><a href="#resizenodegpu">ResizeNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#flatfieldnode">FlatFieldNode</a></li>
<li class="toc-entry toc-h4"><a href="#flatfieldnodegpu">FlatFieldNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#clahenode">CLAHENode</a></li>
<li class="toc-entry toc-h4"><a href="#clahenodegpu">CLAHENodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#matchernode">MatcherNode</a></li>
<li class="toc-entry toc-h4"><a href="#matchernodegpu">MatcherNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#minmaxmeannode">MinMaxMeanNode</a></li>
<li class="toc-entry toc-h4"><a href="#minmaxmeannodegpu">MinMaxMeanNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#fftnode">FFTNode</a></li>
<li class="toc-entry toc-h4"><a href="#fftnodegpu">FFTNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#focusnode">FocusNode</a></li>
<li class="toc-entry toc-h4"><a href="#focusnodegpu">FocusNodeGPU</a></li>
<li class="toc-entry toc-h4"><a href="#histogramnode">HistogramNode</a></li>
<li class="toc-entry toc-h4"><a href="#subscriberawtilenode">SubscribeRawTileNode</a></li>
<li class="toc-entry toc-h4"><a href="#publishfilenode">PublishFileNode</a></li>
<li class="toc-entry toc-h4"><a href="#publishfocusnode">PublishFocusNode</a></li>
<li class="toc-entry toc-h4"><a href="#publishminmaxmeannode">PublishMinMaxMeanNode</a></li>
<li class="toc-entry toc-h4"><a href="#publishtransformnode">PublishTransformNode</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#message-types">Message Types</a>
<ul>
<li class="toc-entry toc-h4"><a href="#str_message">str_message</a></li>
<li class="toc-entry toc-h4"><a href="#mat_message">mat_message</a></li>
<li class="toc-entry toc-h4"><a href="#gpu_mat_message">gpu_mat_message</a></li>
<li class="toc-entry toc-h4"><a href="#float_message">float_message</a></li>
<li class="toc-entry toc-h4"><a href="#int_vec_message">int_vec_message</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#python-api">Python API</a></li>
<li class="toc-entry toc-h3"><a href="#config-file">Config File</a></li>
</ul><h3 id="introduction">
<a class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h3>

<p>The image processing pipeline is primarily written in C++ with some Python bindings and nodes.
It utilizes the <a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/onetbb.html">Intel Thread Building Blocks</a> library for parallelism, and <a href="https://opencv.org/">OpenCV</a> for image processing.
The overall data-flow is shown in the diagram below.</p>

<div class="diagram"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0.00 0.00 2274.00 1295.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(144 1151)">
<title>%3</title>
<g id="clust1" class="cluster">
<title>cluster_Intel TBB</title>
<path fill="#ffe0b2" stroke="#aeb6be" d="M229.5,0C229.5,0 1756.5,0 1756.5,0 1762.5,0 1768.5,-6 1768.5,-12 1768.5,-12 1768.5,-995 1768.5,-995 1768.5,-1001 1762.5,-1007 1756.5,-1007 1756.5,-1007 229.5,-1007 229.5,-1007 223.5,-1007 217.5,-1001 217.5,-995 217.5,-995 217.5,-12 217.5,-12 217.5,-6 223.5,0 229.5,0"></path>
<text text-anchor="middle" x="253" y="-993.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Intel TBB</text>
</g>
<!-- 4b1251364f624e4fbfe82c169ad5578c -->
<g id="node1" class="node">
<title>4b1251364f624e4fbfe82c169ad5578c</title>
<g id="a_node1"><a xlink:href="#receive-tile-filepath" xlink:title="Receive Tile File-path">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="217.5" y="-626.5"></image>
<text text-anchor="middle" x="268" y="-511.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Receive Tile File-path</text>
</a>
</g>
</g>
<!-- f2c19ebd091f4abdb4e4f52270c97088 -->
<g id="node2" class="node">
<title>f2c19ebd091f4abdb4e4f52270c97088</title>
<g id="a_node2"><a xlink:href="#load-tile" xlink:title="Load Tile">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="362.5" y="-632.813"></image>
<text text-anchor="middle" x="413" y="-511.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Load Tile</text>
</a>
</g>
</g>
<!-- 4b1251364f624e4fbfe82c169ad5578c&#45;&gt;f2c19ebd091f4abdb4e4f52270c97088 -->
<g id="edge1" class="edge">
<title>4b1251364f624e4fbfe82c169ad5578c-&gt;f2c19ebd091f4abdb4e4f52270c97088</title>
<path fill="none" stroke="#7b8894" d="M318.71,-576C329.47,-576 340.93,-576 352.02,-576"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="352.07,-579.5 362.07,-576 352.07,-572.5 352.07,-579.5"></polygon>
</g>
<!-- 5414efe79f2846059cef8e00cc2e5ad6 -->
<g id="node30" class="node">
<title>5414efe79f2846059cef8e00cc2e5ad6</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="0" y="-626.5"></image>
</g>
<!-- 4b1251364f624e4fbfe82c169ad5578c&#45;&gt;5414efe79f2846059cef8e00cc2e5ad6 -->
<g id="edge29" class="edge">
<title>4b1251364f624e4fbfe82c169ad5578c-&gt;5414efe79f2846059cef8e00cc2e5ad6</title>
<g id="a_edge29"><a xlink:href="/TEM_architecture/topics.html#tile-raw" xlink:title="tile.raw">
<path fill="none" stroke="#7b8894" d="M207.19,-576C173.83,-576 132.94,-576 101.3,-576"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="207.28,-579.5 217.28,-576 207.28,-572.5 207.28,-579.5"></polygon>
</a>
</g>
<g id="a_edge29-label"><a xlink:href="/TEM_architecture/topics.html#tile-raw" xlink:title="tile.raw">
<text text-anchor="middle" x="129.24" y="-579.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.raw</text>
</a>
</g>
</g>
<!-- 30803bccb05c4eab9f8d85d3d43e3c8a -->
<g id="node3" class="node">
<title>30803bccb05c4eab9f8d85d3d43e3c8a</title>
<g id="a_node3"><a xlink:href="#transfer-to-gpu" xlink:title="Transfer to GPU">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="507.5" y="-632.813"></image>
<text text-anchor="middle" x="558" y="-511.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Transfer to GPU</text>
</a>
</g>
</g>
<!-- f2c19ebd091f4abdb4e4f52270c97088&#45;&gt;30803bccb05c4eab9f8d85d3d43e3c8a -->
<g id="edge2" class="edge">
<title>f2c19ebd091f4abdb4e4f52270c97088-&gt;30803bccb05c4eab9f8d85d3d43e3c8a</title>
<path fill="none" stroke="#7b8894" d="M463.71,-576C474.47,-576 485.93,-576 497.02,-576"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="497.07,-579.5 507.07,-576 497.07,-572.5 497.07,-579.5"></polygon>
</g>
<!-- 458016cf9f364240aedd3b08d7762365 -->
<g id="node4" class="node">
<title>458016cf9f364240aedd3b08d7762365</title>
<g id="a_node4"><a xlink:href="#flip" xlink:title="Horizontal Flip">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="652.5" y="-632.813"></image>
<text text-anchor="middle" x="703" y="-511.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Horizontal Flip</text>
</a>
</g>
</g>
<!-- 30803bccb05c4eab9f8d85d3d43e3c8a&#45;&gt;458016cf9f364240aedd3b08d7762365 -->
<g id="edge3" class="edge">
<title>30803bccb05c4eab9f8d85d3d43e3c8a-&gt;458016cf9f364240aedd3b08d7762365</title>
<path fill="none" stroke="#7b8894" d="M608.71,-576C619.47,-576 630.93,-576 642.02,-576"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="642.07,-579.5 652.07,-576 642.07,-572.5 642.07,-579.5"></polygon>
</g>
<!-- 5f19afd5d9e449cd9cd54df822c55a5b -->
<g id="node5" class="node">
<title>5f19afd5d9e449cd9cd54df822c55a5b</title>
<g id="a_node5"><a xlink:href="#flat-field-correction" xlink:title="Flat-Field Correction">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="797.5" y="-632.813"></image>
<text text-anchor="middle" x="848" y="-511.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Flat-Field Correction</text>
</a>
</g>
</g>
<!-- 458016cf9f364240aedd3b08d7762365&#45;&gt;5f19afd5d9e449cd9cd54df822c55a5b -->
<g id="edge4" class="edge">
<title>458016cf9f364240aedd3b08d7762365-&gt;5f19afd5d9e449cd9cd54df822c55a5b</title>
<path fill="none" stroke="#7b8894" d="M753.71,-576C764.47,-576 775.93,-576 787.02,-576"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="787.07,-579.5 797.07,-576 787.07,-572.5 787.07,-579.5"></polygon>
</g>
<!-- 60e88fd9569244b49511ab6a0f907a22 -->
<g id="node6" class="node">
<title>60e88fd9569244b49511ab6a0f907a22</title>
<g id="a_node6"><a xlink:href="#clahe" xlink:title="CLAHE">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="942.5" y="-632.813"></image>
<text text-anchor="middle" x="993" y="-511.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">CLAHE</text>
</a>
</g>
</g>
<!-- 5f19afd5d9e449cd9cd54df822c55a5b&#45;&gt;60e88fd9569244b49511ab6a0f907a22 -->
<g id="edge5" class="edge">
<title>5f19afd5d9e449cd9cd54df822c55a5b-&gt;60e88fd9569244b49511ab6a0f907a22</title>
<path fill="none" stroke="#7b8894" d="M898.71,-576C909.47,-576 920.93,-576 932.02,-576"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="932.07,-579.5 942.07,-576 932.07,-572.5 932.07,-579.5"></polygon>
</g>
<!-- a7e358c59bb84cb5950f52edf0e0519a -->
<g id="node7" class="node">
<title>a7e358c59bb84cb5950f52edf0e0519a</title>
<g id="a_node7"><a xlink:href="#min-max-mean" xlink:title="Min, Max, Mean">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1087.5" y="-995.313"></image>
<text text-anchor="middle" x="1138" y="-873.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Min, Max, Mean</text>
</a>
</g>
</g>
<!-- 60e88fd9569244b49511ab6a0f907a22&#45;&gt;a7e358c59bb84cb5950f52edf0e0519a -->
<g id="edge10" class="edge">
<title>60e88fd9569244b49511ab6a0f907a22-&gt;a7e358c59bb84cb5950f52edf0e0519a</title>
<path fill="none" stroke="#7b8894" d="M1020.44,-644.61C1045,-706.01 1081,-795.99 1106.67,-860.19"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1103.58,-861.88 1110.55,-869.86 1110.08,-859.28 1103.58,-861.88"></polygon>
</g>
<!-- e42322e835ed4e53b7910951fdd7a35d -->
<g id="node9" class="node">
<title>e42322e835ed4e53b7910951fdd7a35d</title>
<g id="a_node9"><a xlink:href="#fft" xlink:title="FFT">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1087.5" y="-850.313"></image>
<text text-anchor="middle" x="1138" y="-728.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">FFT</text>
</a>
</g>
</g>
<!-- 60e88fd9569244b49511ab6a0f907a22&#45;&gt;e42322e835ed4e53b7910951fdd7a35d -->
<g id="edge12" class="edge">
<title>60e88fd9569244b49511ab6a0f907a22-&gt;e42322e835ed4e53b7910951fdd7a35d</title>
<path fill="none" stroke="#7b8894" d="M1038.68,-644.52C1053.91,-667.37 1070.98,-692.97 1086.61,-716.42"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1083.84,-718.57 1092.3,-724.95 1089.67,-714.69 1083.84,-718.57"></polygon>
</g>
<!-- 1a4b177e2cd84d95be6fb25b7d13bf00 -->
<g id="node12" class="node">
<title>1a4b177e2cd84d95be6fb25b7d13bf00</title>
<g id="a_node12"><a xlink:href="#histogram-transfer-to-cpu-memory" xlink:title="Transfer to CPU Memory">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1087.5" y="-560.313"></image>
<text text-anchor="middle" x="1138" y="-438.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Transfer to CPU Memory</text>
</a>
</g>
</g>
<!-- 60e88fd9569244b49511ab6a0f907a22&#45;&gt;1a4b177e2cd84d95be6fb25b7d13bf00 -->
<g id="edge15" class="edge">
<title>60e88fd9569244b49511ab6a0f907a22-&gt;1a4b177e2cd84d95be6fb25b7d13bf00</title>
<path fill="none" stroke="#7b8894" d="M1043.71,-550.64C1054.8,-545.1 1066.63,-539.18 1078.04,-533.48"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1079.69,-536.57 1087.07,-528.97 1076.56,-530.31 1079.69,-536.57"></polygon>
</g>
<!-- 6b65ce30148d49e684110f6dcf7c8c5a -->
<g id="node16" class="node">
<title>6b65ce30148d49e684110f6dcf7c8c5a</title>
<g id="a_node16"><a xlink:href="#clone" xlink:title="Clone">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1087.5" y="-705.313"></image>
<text text-anchor="middle" x="1138" y="-583.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Clone</text>
</a>
</g>
</g>
<!-- 60e88fd9569244b49511ab6a0f907a22&#45;&gt;6b65ce30148d49e684110f6dcf7c8c5a -->
<g id="edge24" class="edge">
<title>60e88fd9569244b49511ab6a0f907a22-&gt;6b65ce30148d49e684110f6dcf7c8c5a</title>
<path fill="none" stroke="#7b8894" d="M1043.71,-601.36C1054.8,-606.9 1066.63,-612.82 1078.04,-618.52"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1076.56,-621.69 1087.07,-623.03 1079.69,-615.43 1076.56,-621.69"></polygon>
</g>
<!-- 716da6d24b8f4d959fe4e3e02ec5c6e3 -->
<g id="node21" class="node">
<title>716da6d24b8f4d959fe4e3e02ec5c6e3</title>
<g id="a_node21"><a xlink:href="#lens-correction" xlink:title="Lens Correction">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1087.5" y="-415.313"></image>
<text text-anchor="middle" x="1138" y="-293.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Lens Correction</text>
</a>
</g>
</g>
<!-- 60e88fd9569244b49511ab6a0f907a22&#45;&gt;716da6d24b8f4d959fe4e3e02ec5c6e3 -->
<g id="edge6" class="edge">
<title>60e88fd9569244b49511ab6a0f907a22-&gt;716da6d24b8f4d959fe4e3e02ec5c6e3</title>
<path fill="none" stroke="#7b8894" d="M1038.68,-507.48C1053.91,-484.63 1070.98,-459.03 1086.61,-435.58"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1089.67,-437.31 1092.3,-427.05 1083.84,-433.43 1089.67,-437.31"></polygon>
</g>
<!-- 2f189f6e4a6b44598842e05068df731e -->
<g id="node8" class="node">
<title>2f189f6e4a6b44598842e05068df731e</title>
<g id="a_node8"><a xlink:href="#send-min-max-mean" xlink:title="Send Min, Max, Mean">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1232.5" y="-989"></image>
<text text-anchor="middle" x="1283" y="-873.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send Min, Max, Mean</text>
</a>
</g>
</g>
<!-- a7e358c59bb84cb5950f52edf0e0519a&#45;&gt;2f189f6e4a6b44598842e05068df731e -->
<g id="edge11" class="edge">
<title>a7e358c59bb84cb5950f52edf0e0519a-&gt;2f189f6e4a6b44598842e05068df731e</title>
<path fill="none" stroke="#7b8894" d="M1188.71,-938.5C1199.47,-938.5 1210.93,-938.5 1222.02,-938.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1222.07,-942 1232.07,-938.5 1222.07,-935 1222.07,-942"></polygon>
</g>
<!-- 8a8bb72053a34cd7a66041feee8fe83c -->
<g id="node31" class="node">
<title>8a8bb72053a34cd7a66041feee8fe83c</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1885" y="-989"></image>
</g>
<!-- 2f189f6e4a6b44598842e05068df731e&#45;&gt;8a8bb72053a34cd7a66041feee8fe83c -->
<g id="edge30" class="edge">
<title>2f189f6e4a6b44598842e05068df731e-&gt;8a8bb72053a34cd7a66041feee8fe83c</title>
<g id="a_edge30"><a xlink:href="/TEM_architecture/topics.html#tile-statistics-min_max_mean">
<path fill="none" stroke="#7b8894" d="M1333.66,-938.5C1452.17,-938.5 1747.09,-938.5 1874.87,-938.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1874.87,-942 1884.87,-938.5 1874.87,-935 1874.87,-942"></polygon>
</a>
</g>
<g id="a_edge30-headlabel"><a xlink:href="/TEM_architecture/topics.html#tile-statistics-min_max_mean" xlink:title="tile.statistics.min_max_mean">
<text text-anchor="middle" x="1787.87" y="-942.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.statistics.min_max_mean</text>
</a>
</g>
</g>
<!-- 66259f1cf4544173b0963ec36c167aa6 -->
<g id="node10" class="node">
<title>66259f1cf4544173b0963ec36c167aa6</title>
<g id="a_node10"><a xlink:href="#focus-score" xlink:title="Compute Focus Score">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1232.5" y="-850.313"></image>
<text text-anchor="middle" x="1283" y="-728.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Compute Focus Score</text>
</a>
</g>
</g>
<!-- e42322e835ed4e53b7910951fdd7a35d&#45;&gt;66259f1cf4544173b0963ec36c167aa6 -->
<g id="edge13" class="edge">
<title>e42322e835ed4e53b7910951fdd7a35d-&gt;66259f1cf4544173b0963ec36c167aa6</title>
<path fill="none" stroke="#7b8894" d="M1188.71,-793.5C1199.47,-793.5 1210.93,-793.5 1222.02,-793.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1222.07,-797 1232.07,-793.5 1222.07,-790 1222.07,-797"></polygon>
</g>
<!-- 0b81f049d2f14e0bbc4b0c48d63a8210 -->
<g id="node11" class="node">
<title>0b81f049d2f14e0bbc4b0c48d63a8210</title>
<g id="a_node11"><a xlink:href="#send-focus-score" xlink:title="Send Focus Score">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1377.5" y="-844"></image>
<text text-anchor="middle" x="1428" y="-728.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send Focus Score</text>
</a>
</g>
</g>
<!-- 66259f1cf4544173b0963ec36c167aa6&#45;&gt;0b81f049d2f14e0bbc4b0c48d63a8210 -->
<g id="edge14" class="edge">
<title>66259f1cf4544173b0963ec36c167aa6-&gt;0b81f049d2f14e0bbc4b0c48d63a8210</title>
<path fill="none" stroke="#7b8894" d="M1333.71,-793.5C1344.47,-793.5 1355.93,-793.5 1367.02,-793.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1367.07,-797 1377.07,-793.5 1367.07,-790 1367.07,-797"></polygon>
</g>
<!-- ebc0d22ece4e47738ab7178ce99454b9 -->
<g id="node32" class="node">
<title>ebc0d22ece4e47738ab7178ce99454b9</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1885" y="-844"></image>
</g>
<!-- 0b81f049d2f14e0bbc4b0c48d63a8210&#45;&gt;ebc0d22ece4e47738ab7178ce99454b9 -->
<g id="edge31" class="edge">
<title>0b81f049d2f14e0bbc4b0c48d63a8210-&gt;ebc0d22ece4e47738ab7178ce99454b9</title>
<g id="a_edge31"><a xlink:href="/TEM_architecture/topics.html#tile-statistics-focus">
<path fill="none" stroke="#7b8894" d="M1478.52,-793.5C1572.44,-793.5 1773.58,-793.5 1874.75,-793.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1874.81,-797 1884.81,-793.5 1874.81,-790 1874.81,-797"></polygon>
</a>
</g>
<g id="a_edge31-headlabel"><a xlink:href="/TEM_architecture/topics.html#tile-statistics-focus" xlink:title="tile.statistics.focus">
<text text-anchor="middle" x="1822.31" y="-797.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.statistics.focus</text>
</a>
</g>
</g>
<!-- 822f27693f844defb68de19e46f1a36c -->
<g id="node13" class="node">
<title>822f27693f844defb68de19e46f1a36c</title>
<g id="a_node13"><a xlink:href="#calculate-histogram" xlink:title="Calculate Histogram">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1232.5" y="-560.313"></image>
<text text-anchor="middle" x="1283" y="-438.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Calculate Histogram</text>
</a>
</g>
</g>
<!-- 1a4b177e2cd84d95be6fb25b7d13bf00&#45;&gt;822f27693f844defb68de19e46f1a36c -->
<g id="edge16" class="edge">
<title>1a4b177e2cd84d95be6fb25b7d13bf00-&gt;822f27693f844defb68de19e46f1a36c</title>
<path fill="none" stroke="#7b8894" d="M1188.71,-503.5C1199.47,-503.5 1210.93,-503.5 1222.02,-503.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1222.07,-507 1232.07,-503.5 1222.07,-500 1222.07,-507"></polygon>
</g>
<!-- b94be9f5b53e47939772c7bdefc9cfd1 -->
<g id="node14" class="node">
<title>b94be9f5b53e47939772c7bdefc9cfd1</title>
<g id="a_node14"><a xlink:href="#save-histogram" xlink:title="Save Histogram">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1377.5" y="-560.313"></image>
<text text-anchor="middle" x="1428" y="-438.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Save Histogram</text>
</a>
</g>
</g>
<!-- 822f27693f844defb68de19e46f1a36c&#45;&gt;b94be9f5b53e47939772c7bdefc9cfd1 -->
<g id="edge17" class="edge">
<title>822f27693f844defb68de19e46f1a36c-&gt;b94be9f5b53e47939772c7bdefc9cfd1</title>
<path fill="none" stroke="#7b8894" d="M1333.71,-503.5C1344.47,-503.5 1355.93,-503.5 1367.02,-503.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1367.07,-507 1377.07,-503.5 1367.07,-500 1367.07,-507"></polygon>
</g>
<!-- 4efd613d134c470ebe661bbd8fae4a5f -->
<g id="node15" class="node">
<title>4efd613d134c470ebe661bbd8fae4a5f</title>
<g id="a_node15"><a xlink:href="#send-histogram" xlink:title="Send Histogram File-path">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1522.5" y="-554"></image>
<text text-anchor="middle" x="1573" y="-438.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send Histogram File-path</text>
</a>
</g>
</g>
<!-- b94be9f5b53e47939772c7bdefc9cfd1&#45;&gt;4efd613d134c470ebe661bbd8fae4a5f -->
<g id="edge18" class="edge">
<title>b94be9f5b53e47939772c7bdefc9cfd1-&gt;4efd613d134c470ebe661bbd8fae4a5f</title>
<path fill="none" stroke="#7b8894" d="M1478.71,-503.5C1489.47,-503.5 1500.93,-503.5 1512.02,-503.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1512.07,-507 1522.07,-503.5 1512.07,-500 1512.07,-507"></polygon>
</g>
<!-- 67fbadbbae524b26a2ed5c80d8518f1e -->
<g id="node34" class="node">
<title>67fbadbbae524b26a2ed5c80d8518f1e</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1885" y="-554"></image>
</g>
<!-- 4efd613d134c470ebe661bbd8fae4a5f&#45;&gt;67fbadbbae524b26a2ed5c80d8518f1e -->
<g id="edge33" class="edge">
<title>4efd613d134c470ebe661bbd8fae4a5f-&gt;67fbadbbae524b26a2ed5c80d8518f1e</title>
<g id="a_edge33"><a xlink:href="/TEM_architecture/topics.html#tile-statistics-histogram">
<path fill="none" stroke="#7b8894" d="M1623.79,-503.5C1689.62,-503.5 1804.32,-503.5 1874.71,-503.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1874.77,-507 1884.77,-503.5 1874.77,-500 1874.77,-507"></polygon>
</a>
</g>
<g id="a_edge33-headlabel"><a xlink:href="/TEM_architecture/topics.html#tile-statistics-histogram" xlink:title="tile.statistics.histogram">
<text text-anchor="middle" x="1806.27" y="-507.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.statistics.histogram</text>
</a>
</g>
</g>
<!-- 0cffd5eea2b94b1c9b5dc84afd10358e -->
<g id="node17" class="node">
<title>0cffd5eea2b94b1c9b5dc84afd10358e</title>
<g id="a_node17"><a xlink:href="#down-sample" xlink:title="Down-sample">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1232.5" y="-705.313"></image>
<text text-anchor="middle" x="1283" y="-583.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Down-sample</text>
</a>
</g>
</g>
<!-- 6b65ce30148d49e684110f6dcf7c8c5a&#45;&gt;0cffd5eea2b94b1c9b5dc84afd10358e -->
<g id="edge25" class="edge">
<title>6b65ce30148d49e684110f6dcf7c8c5a-&gt;0cffd5eea2b94b1c9b5dc84afd10358e</title>
<path fill="none" stroke="#7b8894" d="M1188.71,-648.5C1199.47,-648.5 1210.93,-648.5 1222.02,-648.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1222.07,-652 1232.07,-648.5 1222.07,-645 1222.07,-652"></polygon>
</g>
<!-- 61c94108814c4f5288f68110dd25a79d -->
<g id="node18" class="node">
<title>61c94108814c4f5288f68110dd25a79d</title>
<g id="a_node18"><a xlink:href="#down-sampled-image-to-cpu-memory" xlink:title="Transfer to CPU Memory">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1377.5" y="-705.313"></image>
<text text-anchor="middle" x="1428" y="-583.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Transfer to CPU Memory</text>
</a>
</g>
</g>
<!-- 0cffd5eea2b94b1c9b5dc84afd10358e&#45;&gt;61c94108814c4f5288f68110dd25a79d -->
<g id="edge26" class="edge">
<title>0cffd5eea2b94b1c9b5dc84afd10358e-&gt;61c94108814c4f5288f68110dd25a79d</title>
<path fill="none" stroke="#7b8894" d="M1333.71,-648.5C1344.47,-648.5 1355.93,-648.5 1367.02,-648.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1367.07,-652 1377.07,-648.5 1367.07,-645 1367.07,-652"></polygon>
</g>
<!-- e814efc7b2b84e76a9d72a977a414fdf -->
<g id="node19" class="node">
<title>e814efc7b2b84e76a9d72a977a414fdf</title>
<g id="a_node19"><a xlink:href="#save-jpeg" xlink:title="Save JPEG">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1522.5" y="-705.313"></image>
<text text-anchor="middle" x="1573" y="-583.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Save JPEG</text>
</a>
</g>
</g>
<!-- 61c94108814c4f5288f68110dd25a79d&#45;&gt;e814efc7b2b84e76a9d72a977a414fdf -->
<g id="edge27" class="edge">
<title>61c94108814c4f5288f68110dd25a79d-&gt;e814efc7b2b84e76a9d72a977a414fdf</title>
<path fill="none" stroke="#7b8894" d="M1478.71,-648.5C1489.47,-648.5 1500.93,-648.5 1512.02,-648.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1512.07,-652 1522.07,-648.5 1512.07,-645 1512.07,-652"></polygon>
</g>
<!-- f349687fe1854129af85daa8940c60f5 -->
<g id="node20" class="node">
<title>f349687fe1854129af85daa8940c60f5</title>
<g id="a_node20"><a xlink:href="#send-jpeg-filepath" xlink:title="Send JPEG">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1667.5" y="-699"></image>
<text text-anchor="middle" x="1718" y="-583.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send JPEG</text>
</a>
</g>
</g>
<!-- e814efc7b2b84e76a9d72a977a414fdf&#45;&gt;f349687fe1854129af85daa8940c60f5 -->
<g id="edge28" class="edge">
<title>e814efc7b2b84e76a9d72a977a414fdf-&gt;f349687fe1854129af85daa8940c60f5</title>
<path fill="none" stroke="#7b8894" d="M1623.71,-648.5C1634.47,-648.5 1645.93,-648.5 1657.02,-648.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1657.07,-652 1667.07,-648.5 1657.07,-645 1657.07,-652"></polygon>
</g>
<!-- ba538689b10249d9bc0235325fd472d8 -->
<g id="node33" class="node">
<title>ba538689b10249d9bc0235325fd472d8</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1885" y="-699"></image>
</g>
<!-- f349687fe1854129af85daa8940c60f5&#45;&gt;ba538689b10249d9bc0235325fd472d8 -->
<g id="edge32" class="edge">
<title>f349687fe1854129af85daa8940c60f5-&gt;ba538689b10249d9bc0235325fd472d8</title>
<g id="a_edge32"><a xlink:href="/TEM_architecture/topics.html#tile-jpeg">
<path fill="none" stroke="#7b8894" d="M1768.72,-648.5C1800.34,-648.5 1841.23,-648.5 1874.6,-648.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1874.7,-652 1884.7,-648.5 1874.7,-645 1874.7,-652"></polygon>
</a>
</g>
<g id="a_edge32-headlabel"><a xlink:href="/TEM_architecture/topics.html#tile-jpeg" xlink:title="tile.jpeg">
<text text-anchor="middle" x="1857.2" y="-652.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.jpeg</text>
</a>
</g>
</g>
<!-- 8d2526303d614483819d8f6587bca0a4 -->
<g id="node22" class="node">
<title>8d2526303d614483819d8f6587bca0a4</title>
<g id="a_node22"><a xlink:href="#transfer-to-cpu-memory" xlink:title="Transfer to CPU Memory">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1232.5" y="-415.313"></image>
<text text-anchor="middle" x="1283" y="-293.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Transfer to CPU Memory</text>
</a>
</g>
</g>
<!-- 716da6d24b8f4d959fe4e3e02ec5c6e3&#45;&gt;8d2526303d614483819d8f6587bca0a4 -->
<g id="edge7" class="edge">
<title>716da6d24b8f4d959fe4e3e02ec5c6e3-&gt;8d2526303d614483819d8f6587bca0a4</title>
<path fill="none" stroke="#7b8894" d="M1188.71,-358.5C1199.47,-358.5 1210.93,-358.5 1222.02,-358.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1222.07,-362 1232.07,-358.5 1222.07,-355 1222.07,-362"></polygon>
</g>
<!-- 7eec1322948b4c5496084e8f3ed20b40 -->
<g id="node25" class="node">
<title>7eec1322948b4c5496084e8f3ed20b40</title>
<g id="a_node25"><a xlink:href="#tile-matcher" xlink:title="Tile Matcher">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1087.5" y="-270.313"></image>
<text text-anchor="middle" x="1138" y="-148.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Tile Matcher</text>
</a>
</g>
</g>
<!-- 716da6d24b8f4d959fe4e3e02ec5c6e3&#45;&gt;7eec1322948b4c5496084e8f3ed20b40 -->
<g id="edge19" class="edge">
<title>716da6d24b8f4d959fe4e3e02ec5c6e3-&gt;7eec1322948b4c5496084e8f3ed20b40</title>
<path fill="none" stroke="#7b8894" d="M1138,-289.82C1138,-289.67 1138,-289.51 1138,-289.35"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1141.5,-292.35 1138,-282.35 1134.5,-292.35 1141.5,-292.35"></polygon>
</g>
<!-- ccb92c1c527b4bdfad210c01685e43cf -->
<g id="node23" class="node">
<title>ccb92c1c527b4bdfad210c01685e43cf</title>
<g id="a_node23"><a xlink:href="#save-tile" xlink:title="Save Tile">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1377.5" y="-415.313"></image>
<text text-anchor="middle" x="1428" y="-293.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Save Tile</text>
</a>
</g>
</g>
<!-- 8d2526303d614483819d8f6587bca0a4&#45;&gt;ccb92c1c527b4bdfad210c01685e43cf -->
<g id="edge8" class="edge">
<title>8d2526303d614483819d8f6587bca0a4-&gt;ccb92c1c527b4bdfad210c01685e43cf</title>
<path fill="none" stroke="#7b8894" d="M1333.71,-358.5C1344.47,-358.5 1355.93,-358.5 1367.02,-358.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1367.07,-362 1377.07,-358.5 1367.07,-355 1367.07,-362"></polygon>
</g>
<!-- 006afd6120af420d8139aad423be37d1 -->
<g id="node24" class="node">
<title>006afd6120af420d8139aad423be37d1</title>
<g id="a_node24"><a xlink:href="#send-tile-filepath" xlink:title="Send Processed Tile Filepath">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1522.5" y="-409"></image>
<text text-anchor="middle" x="1573" y="-293.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send Processed Tile Filepath</text>
</a>
</g>
</g>
<!-- ccb92c1c527b4bdfad210c01685e43cf&#45;&gt;006afd6120af420d8139aad423be37d1 -->
<g id="edge9" class="edge">
<title>ccb92c1c527b4bdfad210c01685e43cf-&gt;006afd6120af420d8139aad423be37d1</title>
<path fill="none" stroke="#7b8894" d="M1478.71,-358.5C1489.47,-358.5 1500.93,-358.5 1512.02,-358.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1512.07,-362 1522.07,-358.5 1512.07,-355 1512.07,-362"></polygon>
</g>
<!-- 544fb70d923646aa9c559d22b3b4cb7b -->
<g id="node35" class="node">
<title>544fb70d923646aa9c559d22b3b4cb7b</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1885" y="-409"></image>
</g>
<!-- 006afd6120af420d8139aad423be37d1&#45;&gt;544fb70d923646aa9c559d22b3b4cb7b -->
<g id="edge34" class="edge">
<title>006afd6120af420d8139aad423be37d1-&gt;544fb70d923646aa9c559d22b3b4cb7b</title>
<g id="a_edge34"><a xlink:href="/TEM_architecture/topics.html#tile-processed">
<path fill="none" stroke="#7b8894" d="M1623.79,-358.5C1689.62,-358.5 1804.32,-358.5 1874.71,-358.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1874.77,-362 1884.77,-358.5 1874.77,-355 1874.77,-362"></polygon>
</a>
</g>
<g id="a_edge34-headlabel"><a xlink:href="/TEM_architecture/topics.html#tile-processed" xlink:title="tile.processed">
<text text-anchor="middle" x="1837.77" y="-362.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.processed</text>
</a>
</g>
</g>
<!-- aabfb2cd2c214c3b9121ca72306d5a46 -->
<g id="node26" class="node">
<title>aabfb2cd2c214c3b9121ca72306d5a46</title>
<g id="a_node26"><a xlink:href="#minimap-to-cpu-memory" xlink:title="Transfer to CPU Memory">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1232.5" y="-270.313"></image>
<text text-anchor="middle" x="1283" y="-148.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Transfer to CPU Memory</text>
</a>
</g>
</g>
<!-- 7eec1322948b4c5496084e8f3ed20b40&#45;&gt;aabfb2cd2c214c3b9121ca72306d5a46 -->
<g id="edge20" class="edge">
<title>7eec1322948b4c5496084e8f3ed20b40-&gt;aabfb2cd2c214c3b9121ca72306d5a46</title>
<path fill="none" stroke="#7b8894" d="M1188.71,-213.5C1199.47,-213.5 1210.93,-213.5 1222.02,-213.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1222.07,-217 1232.07,-213.5 1222.07,-210 1222.07,-217"></polygon>
</g>
<!-- d8902898cdf7474da8c00fa92a369cda -->
<g id="node29" class="node">
<title>d8902898cdf7474da8c00fa92a369cda</title>
<g id="a_node29"><a xlink:href="#send-transform" xlink:title="Send Transform">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1087.5" y="-119"></image>
<text text-anchor="middle" x="1138" y="-3.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send Transform</text>
</a>
</g>
</g>
<!-- 7eec1322948b4c5496084e8f3ed20b40&#45;&gt;d8902898cdf7474da8c00fa92a369cda -->
<g id="edge23" class="edge">
<title>7eec1322948b4c5496084e8f3ed20b40-&gt;d8902898cdf7474da8c00fa92a369cda</title>
<path fill="none" stroke="#7b8894" d="M1138,-144.82C1138,-144.67 1138,-144.51 1138,-144.35"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1141.5,-147.35 1138,-137.35 1134.5,-147.35 1141.5,-147.35"></polygon>
</g>
<!-- e7afd8df4cd8483a944f5b0a3ebf23b9 -->
<g id="node27" class="node">
<title>e7afd8df4cd8483a944f5b0a3ebf23b9</title>
<g id="a_node27"><a xlink:href="#save-minimap" xlink:title="Save Mini-Map">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="1377.5" y="-270.313"></image>
<text text-anchor="middle" x="1428" y="-148.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Save Mini-Map</text>
</a>
</g>
</g>
<!-- aabfb2cd2c214c3b9121ca72306d5a46&#45;&gt;e7afd8df4cd8483a944f5b0a3ebf23b9 -->
<g id="edge21" class="edge">
<title>aabfb2cd2c214c3b9121ca72306d5a46-&gt;e7afd8df4cd8483a944f5b0a3ebf23b9</title>
<path fill="none" stroke="#7b8894" d="M1333.71,-213.5C1344.47,-213.5 1355.93,-213.5 1367.02,-213.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1367.07,-217 1377.07,-213.5 1367.07,-210 1367.07,-217"></polygon>
</g>
<!-- 46152d4c9de54277b24932a84cb12432 -->
<g id="node28" class="node">
<title>46152d4c9de54277b24932a84cb12432</title>
<g id="a_node28"><a xlink:href="#send-minimap" xlink:title="Send Mini-Map">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1522.5" y="-264"></image>
<text text-anchor="middle" x="1573" y="-148.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send Mini-Map</text>
</a>
</g>
</g>
<!-- e7afd8df4cd8483a944f5b0a3ebf23b9&#45;&gt;46152d4c9de54277b24932a84cb12432 -->
<g id="edge22" class="edge">
<title>e7afd8df4cd8483a944f5b0a3ebf23b9-&gt;46152d4c9de54277b24932a84cb12432</title>
<path fill="none" stroke="#7b8894" d="M1478.71,-213.5C1489.47,-213.5 1500.93,-213.5 1512.02,-213.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1512.07,-217 1522.07,-213.5 1512.07,-210 1512.07,-217"></polygon>
</g>
<!-- 75735c5d926d4936ab0dd33ef187134c -->
<g id="node36" class="node">
<title>75735c5d926d4936ab0dd33ef187134c</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1885" y="-264"></image>
</g>
<!-- 46152d4c9de54277b24932a84cb12432&#45;&gt;75735c5d926d4936ab0dd33ef187134c -->
<g id="edge35" class="edge">
<title>46152d4c9de54277b24932a84cb12432-&gt;75735c5d926d4936ab0dd33ef187134c</title>
<g id="a_edge35"><a xlink:href="/TEM_architecture/topics.html#tile-minimap">
<path fill="none" stroke="#7b8894" d="M1623.79,-213.5C1689.62,-213.5 1804.32,-213.5 1874.71,-213.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1874.77,-217 1884.77,-213.5 1874.77,-210 1874.77,-217"></polygon>
</a>
</g>
<g id="a_edge35-headlabel"><a xlink:href="/TEM_architecture/topics.html#tile-minimap" xlink:title="tile.minimap">
<text text-anchor="middle" x="1842.77" y="-217.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.minimap</text>
</a>
</g>
</g>
<!-- 786509ed2b204186a68fe468dd0fdd74 -->
<g id="node37" class="node">
<title>786509ed2b204186a68fe468dd0fdd74</title>
<image xlink:href="/TEM_architecture/icons/blank.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="1885" y="-119"></image>
</g>
<!-- d8902898cdf7474da8c00fa92a369cda&#45;&gt;786509ed2b204186a68fe468dd0fdd74 -->
<g id="edge36" class="edge">
<title>d8902898cdf7474da8c00fa92a369cda-&gt;786509ed2b204186a68fe468dd0fdd74</title>
<g id="a_edge36"><a xlink:href="/TEM_architecture/topics.html#tile-transform">
<path fill="none" stroke="#7b8894" d="M1188.8,-68.5C1329.32,-68.5 1722.88,-68.5 1874.69,-68.5"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="1874.77,-72 1884.77,-68.5 1874.77,-65 1874.77,-72"></polygon>
</a>
</g>
<g id="a_edge36-headlabel"><a xlink:href="/TEM_architecture/topics.html#tile-transform" xlink:title="tile.transform">
<text text-anchor="middle" x="1839.27" y="-72.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">tile.transform</text>
</a>
</g>
</g>
</g>
</svg></div>

<h3 id="functionality">
<a class="anchor" href="#functionality" aria-hidden="true"><span class="octicon octicon-link"></span></a>Functionality</h3>

<h4 id="receive-tile-filepath">
<a class="anchor" href="#receive-tile-filepath" aria-hidden="true"><span class="octicon octicon-link"></span></a>Receive Tile Filepath</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#subscriberawtilenode">SubscribeRawTileNode</a></dd>
</dl>

<p>This node receives the metadata and the path to a raw tile to process from the <a href="/TEM_architecture/broker.html">message broker</a> on the <a href="">tile.raw</a> topic, and passes the filename to the load tile node.</p>

<h4 id="load-tile">
<a class="anchor" href="#load-tile" aria-hidden="true"><span class="octicon octicon-link"></span></a>Load Tile</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#imreadnode">IMReadNode</a></dd>
</dl>

<p>This node receives the metadata and filename, and uses OpenCV to load a tile into CPU memory from SSD based storage.</p>

<h4 id="transfer-to-gpu">
<a class="anchor" href="#transfer-to-gpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transfer to GPU</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#togpunode">ToGPUNode</a></dd>
</dl>

<p>After the tile is loaded into CPU memory, it is transferred into GPU memory for more efficient processing.</p>

<h4 id="flip">
<a class="anchor" href="#flip" aria-hidden="true"><span class="octicon octicon-link"></span></a>Flip</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#flipnodegpu">FlipNodeGPU</a></dd>
</dl>

<p>On the GPU, the tile is horizontally flipped.</p>

<h4 id="flat-field-correction">
<a class="anchor" href="#flat-field-correction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Flat-Field Correction</h4>

<dl>
  <dt>Uses:</dt>
  <dd><a href="#flatfieldnodegpu">FlatFieldNodeGPU</a></dd>
</dl>

<p>The flat-field correction is applied to the tile using brightfield and darkfield images stored on the SSD.
The brightfield and darkfield file modification times are checked during each execution to check if they need to be reloaded.</p>

<h4 id="clahe">
<a class="anchor" href="#clahe" aria-hidden="true"><span class="octicon octicon-link"></span></a>CLAHE</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#clahenodegpu">CLAHENodeGPU</a></dd>
</dl>

<p>The Contrast Limited Adaptive Histogram Equalization algorithm is applied to the tile.
The resulting image is sent to multiple functions for further analysis, including an <a href="#fft">FFT</a> for calculating the <a href="#focus-score">focus score</a>, calculating the <a href="#min-max-mean">minimum, maximum, and mean</a> pixel values, <a href="#calculate-histogram">histogram</a>, <a href="#clone">clone</a> for <a href="/TEM_architecture/ui.html">UI</a> display, and further processing, starting with the <a href="#lens-correction">lens correction</a>.</p>

<h4 id="lens-correction">
<a class="anchor" href="#lens-correction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Lens Correction</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#lenscorrectionnodegpu">LensCorrectionNodeGPU</a></dd>
</dl>

<p>To remove distortion, a lens correction is applied.
This is performed using two images stored on the SSD and reloaded whenever the file modification times are newer than the images stored in memory.
The output is send to the <a href="#tile-matcher">tile matcher</a> and a <a href="#transfer-to-cpu-memory">to cpu</a> node for saving to disk.</p>

<h4 id="transfer-to-cpu-memory">
<a class="anchor" href="#transfer-to-cpu-memory" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transfer to CPU Memory</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#fromgpunode">FromGPUNode</a></dd>
</dl>

<p>In order to save the tile, it must first be transferred to CPU memory.</p>

<h4 id="save-tile">
<a class="anchor" href="#save-tile" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save Tile</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#imwritenode">IMWriteNode</a></dd>
</dl>

<p>The processed tile can now be saved to disk.</p>

<h4 id="send-tile-filepath">
<a class="anchor" href="#send-tile-filepath" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send Tile Filepath</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#publishfilenode">PublishFileNode</a></dd>
</dl>

<p>The filepath of the processed tile can now be sent via the <a href="/TEM_architecture/broker.html">broker</a> to other services on the <a href="/TEM_architecture/topics.html#tile-processed">tile.processed</a> topic.</p>

<h4 id="tile-matcher">
<a class="anchor" href="#tile-matcher" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tile Matcher</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#matchernodegpu">MatcherNodeGPU</a></dd>
</dl>

<p>This node performs template matching of each tile with its neighbors. It outputs both a minimap image (a down-sampled overview of the entire montage) and the metadata from the matching itself.</p>

<h4 id="send-transform">
<a class="anchor" href="#send-transform" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send Transform</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#publishtransformnode">PublishTransformNode</a></dd>
</dl>

<p>This node sends the transform of the matched tile along with other metadata to the <a href="/TEM_architecture/topics.html#tile-transform">tile.transform</a> topic via the <a href="/TEM_architecture/broker.html">broker</a>.</p>

<h4 id="minimap-to-cpu-memory">
<a class="anchor" href="#minimap-to-cpu-memory" aria-hidden="true"><span class="octicon octicon-link"></span></a>Minimap to CPU Memory</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#fromgpunode">FromGPUNode</a></dd>
</dl>

<p>Before it can be saved, the minimap must be moved to CPU memory.</p>

<h4 id="save-minimap">
<a class="anchor" href="#save-minimap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save Minimap</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#imwritenode">IMWriteNode</a></dd>
</dl>

<p>The minimap can is saved to disk.</p>

<h4 id="send-minimap">
<a class="anchor" href="#send-minimap" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send Minimap</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#publishfilenode">PublishFileNode</a></dd>
</dl>

<p>The path to the minimap can now be sent via the <a href="/TEM_architecture/broker.html">broker</a> on the <a href="/TEM_architecture/topics.html#tile-minimap">tile.minimap</a> topic.</p>

<h4 id="min-max-mean">
<a class="anchor" href="#min-max-mean" aria-hidden="true"><span class="octicon octicon-link"></span></a>Min, Max, Mean</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#minmaxmeannode">MinMaxMeanNodeGPU</a></dd>
</dl>

<p>This node calculates the minimum, maximum, and mean pixel values.</p>

<h4 id="send-min-max-mean">
<a class="anchor" href="#send-min-max-mean" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send Min, Max, Mean</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#publishminmaxmeannode">PublishMinMaxMeanNode</a></dd>
</dl>

<p>This node sends the minimum, maximum, and mean pixel values to other services via the <a href="/TEM_architecture/broker.html">broker</a> on the <a href="/TEM_architecture/topics.html#tile-statistics-min_max_mean">tile.statistics.min_max_mean</a> topic.</p>

<h4 id="fft">
<a class="anchor" href="#fft" aria-hidden="true"><span class="octicon octicon-link"></span></a>FFT</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#fftnodegpu">FFTNodeGPU</a></dd>
</dl>

<p>This node crops out the center of the tile and computes the Fast Fourier Transform.</p>

<h4 id="focus-score">
<a class="anchor" href="#focus-score" aria-hidden="true"><span class="octicon octicon-link"></span></a>Focus Score</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#focusnodegpu">FocusNodeGPU</a></dd>
</dl>

<p>This node uses the FFT data to create a metric for the quality of the focus.</p>

<h4 id="send-focus-score">
<a class="anchor" href="#send-focus-score" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send Focus Score</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#publishfocusnode">PublishFocusNode</a></dd>
</dl>

<p>This node sends the focus score to other services via the <a href="/TEM_architecture/broker.html">broker</a> on the <a href="/TEM_architecture/topics.html#tile-statistics-focus">tile.statistics.focus</a> topic.</p>

<h4 id="clone">
<a class="anchor" href="#clone" aria-hidden="true"><span class="octicon octicon-link"></span></a>Clone</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#clonenodegpu">CloneNodeGPU</a></dd>
</dl>

<p>This node copies the image data, since the following node modifies it in-place.</p>

<h4 id="down-sample">
<a class="anchor" href="#down-sample" aria-hidden="true"><span class="octicon octicon-link"></span></a>Down-sample</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#resizenodegpu">ResizeNodeGPU</a></dd>
</dl>

<p>This node down-samples the partially processed tile for <a href="/TEM_architecture/ui.html">UI</a> display.</p>

<h4 id="down-sampled-image-to-cpu-memory">
<a class="anchor" href="#down-sampled-image-to-cpu-memory" aria-hidden="true"><span class="octicon octicon-link"></span></a>Down-sampled Image to CPU Memory</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#fromgpunode">FromGPUNode</a></dd>
</dl>

<p>The down-sampled image must be moved to CPU memory before it can be saved to disk.</p>

<h4 id="save-jpeg">
<a class="anchor" href="#save-jpeg" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save JPEG</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#imwritenode">IMWriteNode</a></dd>
</dl>

<p>The down-sampled image should be saved using JPEG compression for the <a href="/TEM_architecture/ui.html">UI</a>.</p>

<h4 id="send-jpeg-filepath">
<a class="anchor" href="#send-jpeg-filepath" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send JPEG Filepath</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#publishfilenode">PublishFileNode</a></dd>
</dl>

<p>The path to the JPEG compressed image can be published via the <a href="/TEM_architecture/broker.html">broker</a> on the <a href="/TEM_architecture/topics.html#tile-jpeg">tile.jpeg</a> topic.</p>

<h4 id="histogram-transfer-to-cpu-memory">
<a class="anchor" href="#histogram-transfer-to-cpu-memory" aria-hidden="true"><span class="octicon octicon-link"></span></a>Histogram Transfer to CPU Memory</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#fromgpunode">FromGPUNode</a></dd>
</dl>

<p>Transfer the image to CPU memory before computing the histogram.</p>

<h4 id="calculate-histogram">
<a class="anchor" href="#calculate-histogram" aria-hidden="true"><span class="octicon octicon-link"></span></a>Calculate Histogram</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#histogramnode">HistogramNode</a></dd>
</dl>

<p>A small histogram image is created using this node.</p>

<h4 id="save-histogram">
<a class="anchor" href="#save-histogram" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save Histogram</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#imwritenode">IMWriteNode</a></dd>
</dl>

<p>This node saves the histogram to SSD storage.</p>

<h4 id="send-histogram">
<a class="anchor" href="#send-histogram" aria-hidden="true"><span class="octicon octicon-link"></span></a>Send Histogram</h4>

<dl>
  <dt>Uses</dt>
  <dd><a href="#publishfilenode">PublishFileNode</a></dd>
</dl>

<p>This node sends the filepath to the histogram to other services using the <a href="/TEM_architecture/broker.html">broker</a> on the <a href="/TEM_architecture/topics.html#tile-statistics-histogram">tile.statistics.histogram</a> topic.</p>

<h3 id="nodes">
<a class="anchor" href="#nodes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nodes</h3>

<p>Each node can be provided keyword arguments as described below.
Many non-input nodes accept a <code class="language-plaintext highlighter-rouge">concurrency</code> argument controlling how many copies of that node may be crated.
Two predefined values are available in the <code class="language-plaintext highlighter-rouge">TEM_graph.consts</code> module, <code class="language-plaintext highlighter-rouge">serial</code>, and <code class="language-plaintext highlighter-rouge">unlimited</code>.
All nodes should also allow their name to be set using the <code class="language-plaintext highlighter-rouge">name</code> keyword argument.</p>

<h4 id="imreadnode">
<a class="anchor" href="#imreadnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>IMReadNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#str_message">str_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = IMReadNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">flags (int) = IMREAD_GRAYSCALE</code>: OpenCV flags for configuring the underlying OpenCV IMRead function.</dd>
</dl>

<p>This node uses OpenCV to read an image from disk.
The path to the image must be provided in the input message and the output message contains the image data.
Two flags are provided in the <code class="language-plaintext highlighter-rouge">TEM_graph.consts</code> module, <code class="language-plaintext highlighter-rouge">IMREAD_GRAYSCALE</code>, and <code class="language-plaintext highlighter-rouge">IMREAD_ANYDEPTH</code>.</p>

<h4 id="imwritenode">
<a class="anchor" href="#imwritenode" aria-hidden="true"><span class="octicon octicon-link"></span></a>IMWriteNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#str_message">str_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = IMWriteNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">output_dir (string) = .</code>: The directory to save images to.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">extension (string) = .tiff</code>: The file extension to use when saving images.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">params (int vector) = [IMWRITE_TIFF_COMPRESSION, 1]</code>: The parameters to pass to the underlying OpenCV IMWrite function.</dd>
</dl>

<p>This node uses OpenCV to write an image to disk.
The input message contains the image data, and the output message will contain the path where the image was written.
The image will be saved in the <code class="language-plaintext highlighter-rouge">output_dir</code> directory with the tile ID from the metadata as the filename and with the extension supplied in the arguments.
The <code class="language-plaintext highlighter-rouge">params</code> are passed to the underlying OpenCV <code class="language-plaintext highlighter-rouge">IMWrite()</code> function to control different options, with the defaults here saving an uncompressed TIFF image.
One parameter is defined in <code class="language-plaintext highlighter-rouge">TEM_graph.consts</code>, which is <code class="language-plaintext highlighter-rouge">IMWRITE_TIFF_COMPRESSION</code>.</p>

<h4 id="togpunode">
<a class="anchor" href="#togpunode" aria-hidden="true"><span class="octicon octicon-link"></span></a>ToGPUNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = ToGPUNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node transfers OpenCV image data from CPU memory to GPU memory for further processing.</p>

<h4 id="fromgpunode">
<a class="anchor" href="#fromgpunode" aria-hidden="true"><span class="octicon octicon-link"></span></a>FromGPUNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = ToGPUNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node transfers OpenCV image data from GPU memory to CPU memory for saving etc.</p>

<h4 id="clonenode">
<a class="anchor" href="#clonenode" aria-hidden="true"><span class="octicon octicon-link"></span></a>CloneNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = CloneNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node copies the image data to a new location, so that nodes that modify it in-place do not accidentally cause other nodes to receive the modified data.</p>

<h4 id="clonenodegpu">
<a class="anchor" href="#clonenodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>CloneNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = CloneNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node has identical functionality to the <a href="#clonenode">CloneNode</a>, but uses GPU processing.</p>

<h4 id="flipnode">
<a class="anchor" href="#flipnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>FlipNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FlipNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">axis (int) = horizontal</code>: The axis to flip the image along.</dd>
</dl>

<p>This node flips an image in-place along a provided axis.
The <code class="language-plaintext highlighter-rouge">TEM_graph.consts</code> module contains three values, <code class="language-plaintext highlighter-rouge">horizontal</code>, <code class="language-plaintext highlighter-rouge">vertical</code>, and <code class="language-plaintext highlighter-rouge">both</code>.</p>

<h4 id="flipnodegpu">
<a class="anchor" href="#flipnodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>FlipNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FlipNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">axis (int) = horizontal</code>: The axis to flip the image along.</dd>
</dl>

<p>This node has identical functionality to the <a href="#flipnode">FlipNode</a>, but uses GPU processing.</p>

<h4 id="resizenode">
<a class="anchor" href="#resizenode" aria-hidden="true"><span class="octicon octicon-link"></span></a>ResizeNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FlipNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">scale (double) = 0.5</code>: The scaling to apply to the image.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">interpolation (int) = INTER_AREA</code>: The interpolation method to use.</dd>
</dl>

<p>This node resizes the incoming image in-place.
The <code class="language-plaintext highlighter-rouge">TEM_graph.consts</code> module contains interpolation constants, <code class="language-plaintext highlighter-rouge">INTER_NEAREST</code>, <code class="language-plaintext highlighter-rouge">INTER_LINEAR</code>, <code class="language-plaintext highlighter-rouge">INTER_CUBIC</code>, <code class="language-plaintext highlighter-rouge">INTER_AREA</code>, <code class="language-plaintext highlighter-rouge">INTER_LANCZOS4</code>, <code class="language-plaintext highlighter-rouge">INTER_LINEAR_EXACT</code>, and <code class="language-plaintext highlighter-rouge">INTER_NEAREST_EXACT</code>.</p>

<h4 id="resizenodegpu">
<a class="anchor" href="#resizenodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>ResizeNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FlipNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">scale (double) = 0.5</code>: The scaling to apply to the image.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">interpolation (int) = INTER_LINEAR</code>: The interpolation method to use.</dd>
</dl>

<p>This node has identical functionality to the <a href="#downsamplenode">DownsampleNode</a>, but uses GPU processing.</p>

<h4 id="flatfieldnode">
<a class="anchor" href="#flatfieldnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>FlatFieldNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FlatFieldNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">brightfield_path (string) = brightfield.tiff</code>: The path to a brightfield image.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">darkfield_path (string) = darkfield.tiff</code>: The path to a darkfield image.</dd>
</dl>

<p>This node performs flatfield corrections using the supplied brightfield and darkfield images.
The incoming image is modified in-place.
If the brightfield or darkfield images have a modification date newer then when they were loaded, they are automatically reloaded.</p>

<h4 id="flatfieldnodegpu">
<a class="anchor" href="#flatfieldnodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>FlatFieldNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FlatFieldNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">brightfield_path (string) = brightfield.tiff</code>: The path to a brightfield image.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">darkfield_path (string) = darkfield.tiff</code>: The path to a darkfield image.</dd>
</dl>

<p>This node has identical functionality to the <a href="#flatfieldnode">FlatFieldNode</a>, but uses the GPU for processing.</p>

<h4 id="clahenode">
<a class="anchor" href="#clahenode" aria-hidden="true"><span class="octicon octicon-link"></span></a>CLAHENode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = CLAHENode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">clipLimit (double) = 2</code>: The threshold for contrast limiting.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">tileGridSize (int) = 16</code>: The number of rows and columns the image will be split into.</dd>
</dl>

<p>This node performs Contrast Limited Adaptive Histogram Equalization in-place on incoming tiles.</p>

<h4 id="clahenodegpu">
<a class="anchor" href="#clahenodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>CLAHENodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = CLAHENode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">clipLimit (double) = 2</code>: The threshold for contrast limiting.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">tileGridSize (int) = 16</code>: The number of rows and columns the image will be split into.</dd>
</dl>

<p>This node has identical functionality to the <a href="#clahenode">CLAHENode</a>, but uses the GPU for processing.</p>

<h4 id="matchernode">
<a class="anchor" href="#matchernode" aria-hidden="true"><span class="octicon octicon-link"></span></a>MatcherNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = MatcherNode</code>: The name for the node.</dd>
</dl>

<p>This node must be run single threaded.
It receives incoming image tiles and fits them to the montage matching the <code class="language-plaintext highlighter-rouge">montage_id</code> in the metadata.
It outputs a minimap (a down-sampled) image of the entire montage, along with the fit metadata.
If the <code class="language-plaintext highlighter-rouge">montage_id</code> is a zero length string, the tile is a preview tile and no matching should be performed.
In this case, a zero size image should be output.</p>

<h4 id="matchernodegpu">
<a class="anchor" href="#matchernodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>MatcherNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = MatcherNode</code>: The name for the node.</dd>
</dl>

<p>This node has identical functionality to the <a href="#matchernode">MatcherNode</a>, but uses the GPU for processing.</p>

<h4 id="minmaxmeannode">
<a class="anchor" href="#minmaxmeannode" aria-hidden="true"><span class="octicon octicon-link"></span></a>MinMaxMeanNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#int_vec_message">int_vec_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = MinMaxMeanNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node outputs a vector of the minimum, maximum, and mean pixel values of the input image.</p>

<h4 id="minmaxmeannodegpu">
<a class="anchor" href="#minmaxmeannodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>MinMaxMeanNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#int_vec_message">int_vec_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = MinMaxMeanNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node has identical functionality to the <a href="#minmaxmeannode">MinMaxMeanNode</a>, but uses the GPU for processing.</p>

<h4 id="fftnode">
<a class="anchor" href="#fftnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>FFTNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FFTNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">dftSize (int) = 256</code>: The pixel width and height of a square to crop out of the center of the image.</dd>
</dl>

<p>The FFT node calculates the magnitude spectrum of a square section of the incoming tile image that is <code class="language-plaintext highlighter-rouge">dftSize</code> wide and tall.</p>

<h4 id="fftnodegpu">
<a class="anchor" href="#fftnodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>FFTNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FFTNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">dftSize (int) = 256</code>: The pixel width and height of a square to crop out of the center of the image.</dd>
</dl>

<p>This node has identical functionality to the <a href="#fftnode">FFTNode</a>, but uses the GPU for processing.</p>

<h4 id="focusnode">
<a class="anchor" href="#focusnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>FocusNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#float_message">float_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FFTNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">dftSize (int) = 256</code>: The width and height of the incoming FFT magnitude spectrum.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">frequencyStart (int) = 50</code>: The lower bound of spatial frequencies to evaluate for focus.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">frequencyEnd (int) = 251</code>: The upper bound of spatial frequencies to evaluate for focus.</dd>
</dl>

<p>This node calculates a focus score based using a FFT magnitude spectrum.</p>

<h4 id="focusnodegpu">
<a class="anchor" href="#focusnodegpu" aria-hidden="true"><span class="octicon octicon-link"></span></a>FocusNodeGPU</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#gpu_mat_message">gpu_mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#float_message">float_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = FFTNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">dftSize (int) = 256</code>: The width and height of the incoming FFT magnitude spectrum.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">frequencyStart (int) = 50</code>: The lower bound of spatial frequencies to evaluate for focus.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">frequencyEnd (int) = 251</code>: The upper bound of spatial frequencies to evaluate for focus.</dd>
</dl>

<p>This node has identical functionality to the <a href="#focusnode">FocusNode</a>, but uses the GPU for processing.</p>

<h4 id="histogramnode">
<a class="anchor" href="#histogramnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>HistogramNode</h4>

<dl>
  <dt>Language</dt>
  <dd>C++</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = HistogramNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">bins (int) = 256</code>: The number of bins to use when calculating the histogram.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">width (int) = 512</code>: The width of the resulting histogram image.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">height (int) = 200</code>: The height of the resulting histogram image.</dd>
</dl>

<p>This node creates a histogram plot as an image.</p>

<h4 id="subscriberawtilenode">
<a class="anchor" href="#subscriberawtilenode" aria-hidden="true"><span class="octicon octicon-link"></span></a>SubscribeRawTileNode</h4>

<dl>
  <dt>Language</dt>
  <dd>Python</dd>
  <dt>Output</dt>
  <dd><a href="#str_message">str_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">host (string) = 127.0.0.1</code>: The host of the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">port (int) = 61616</code>: The port to use to connect to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">username (string) = None</code>: The username to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">password (string) = None</code>: The password to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">wait_interval (float) = 0.1</code>: The amount of time to wait in seconds when a new file is not availble to process.</dd>
</dl>

<h4 id="publishfilenode">
<a class="anchor" href="#publishfilenode" aria-hidden="true"><span class="octicon octicon-link"></span></a>PublishFileNode</h4>

<dl>
  <dt>Language</dt>
  <dd>Python</dd>
  <dt>Input</dt>
  <dd><a href="#str_message">str_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#str_message">str_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">service (string) = None</code>: The service name to provide to the broker. Must not be <code class="language-plaintext highlighter-rouge">None</code>.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">host (string) = 127.0.0.1</code>: The host of the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">port (int) = 61616</code>: The port to use to connect to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">username (string) = None</code>: The username to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">password (string) = None</code>: The password to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = PublishFileNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">topic (string) = None</code>: The topic to publish the file path on. Must not be <code class="language-plaintext highlighter-rouge">None</code>.</dd>
</dl>

<p>This node publishes the path to a file (usually the output of am <a href="#imwritenode">IMWriteNode</a>) using the <a href="/TEM_architecture/topics.html">TEM_comms</a> library.
The node outputs the input data without modification.</p>

<h4 id="publishfocusnode">
<a class="anchor" href="#publishfocusnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>PublishFocusNode</h4>

<dl>
  <dt>Language</dt>
  <dd>Python</dd>
  <dt>Input</dt>
  <dd><a href="#float_message">float_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#float_message">float_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">service (string) = None</code>: The service name to provide to the broker. Must not be <code class="language-plaintext highlighter-rouge">None</code>.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">host (string) = 127.0.0.1</code>: The host of the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">port (int) = 61616</code>: The port to use to connect to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">username (string) = None</code>: The username to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">password (string) = None</code>: The password to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = PublishFocusNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node publishes the focus score on the <a href="/TEM_architecture/topics.html#tile-statistics-focus">tile.statistics.focus</a> topic using the <a href="/TEM_architecture/topics.html">TEM_comms</a> library.
The node outputs the input data without modification.</p>

<h4 id="publishminmaxmeannode">
<a class="anchor" href="#publishminmaxmeannode" aria-hidden="true"><span class="octicon octicon-link"></span></a>PublishMinMaxMeanNode</h4>

<dl>
  <dt>Language</dt>
  <dd>Python</dd>
  <dt>Input</dt>
  <dd><a href="#int_vec_message">int_vec_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#int_vec_message">int_vec_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">service (string) = None</code>: The service name to provide to the broker. Must not be <code class="language-plaintext highlighter-rouge">None</code>.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">host (string) = 127.0.0.1</code>: The host of the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">port (int) = 61616</code>: The port to use to connect to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">username (string) = None</code>: The username to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">password (string) = None</code>: The password to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = PublishMinMaxMeanNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node publishes the minimum, maximum, and mean pixel values on the <a href="/TEM_architecture/topics.html#tile-statistics-min_max_mean">tile.statistics.min_max_mean</a> topic using the <a href="/TEM_architecture/topics.html">TEM_comms</a> library.
The node outputs the input data without modification.</p>

<h4 id="publishtransformnode">
<a class="anchor" href="#publishtransformnode" aria-hidden="true"><span class="octicon octicon-link"></span></a>PublishTransformNode</h4>

<dl>
  <dt>Language</dt>
  <dd>Python</dd>
  <dt>Input</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Output</dt>
  <dd><a href="#mat_message">mat_message</a></dd>
  <dt>Arguments</dt>
  <dd>
<code class="language-plaintext highlighter-rouge">service (string) = None</code>: The service name to provide to the broker. Must not be <code class="language-plaintext highlighter-rouge">None</code>.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">host (string) = 127.0.0.1</code>: The host of the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">port (int) = 61616</code>: The port to use to connect to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">username (string) = None</code>: The username to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">password (string) = None</code>: The password to use when connecting to the message broker.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">name (string) = PublishTransformNode</code>: The name for the node.</dd>
  <dd>
<code class="language-plaintext highlighter-rouge">concurrency (int) = unlimited</code>: The maximum number of copies of the node to run.</dd>
</dl>

<p>This node publishes the transform and other matching data from the message metadata on the <a href="/TEM_architecture/topics.html#tile-transform">tile.transform</a> topic using the <a href="/TEM_architecture/topics.html">TEM_comms</a> library.
The node outputs the input data without modification.</p>

<h3 id="message-types">
<a class="anchor" href="#message-types" aria-hidden="true"><span class="octicon octicon-link"></span></a>Message Types</h3>

<p>All data types are defined as having some metadata, along with data.
The common metadata includes the following keys:</p>

<dl>
  <dt>tile_id (string)</dt>
  <dd>The unique ID of the tile</dd>
  <dt>montage_id (string)</dt>
  <dd>The unique ID of the montage</dd>
  <dt>row (int)</dt>
  <dd>The row in the montage where the tile is located</dd>
  <dt>column (int)</dt>
  <dd>The column in the montage where the tile if located</dd>
  <dt>overlap (int)</dt>
  <dd>The number of pixels of overlap between tiles</dd>
</dl>

<h4 id="str_message">
<a class="anchor" href="#str_message" aria-hidden="true"><span class="octicon octicon-link"></span></a>str_message</h4>

<p>This message type consists of metadata and a string. This is often used for storing file paths. It has the following keys:</p>

<dl>
  <dt>metadata (Metadata)</dt>
  <dd>The message metadata</dd>
  <dt>data (string)</dt>
  <dd>The string data</dd>
</dl>

<h4 id="mat_message">
<a class="anchor" href="#mat_message" aria-hidden="true"><span class="octicon octicon-link"></span></a>mat_message</h4>

<p>This message type consists of metadata and OpenCV image data. It has the following keys:</p>

<dl>
  <dt>metadata (Metadata)</dt>
  <dd>The message metadata</dd>
  <dt>data (cv::Mat)</dt>
  <dd>Image data</dd>
</dl>

<h4 id="gpu_mat_message">
<a class="anchor" href="#gpu_mat_message" aria-hidden="true"><span class="octicon octicon-link"></span></a>gpu_mat_message</h4>

<p>This message type consists of metadata and OpenCV image data residing on the GPU. It has the following keys:</p>

<dl>
  <dt>metadata (Metadata)</dt>
  <dd>The message metadata</dd>
  <dt>data (cv::cuda::GpuMat)</dt>
  <dd>Image data on the GPU</dd>
</dl>

<h4 id="float_message">
<a class="anchor" href="#float_message" aria-hidden="true"><span class="octicon octicon-link"></span></a>float_message</h4>

<p>This message type consists of metadata and a single floating point value. It has the following keys:</p>

<dl>
  <dt>metadata (Metadata)</dt>
  <dd>The message metadata</dd>
  <dt>data (float)</dt>
  <dd>A floating point value</dd>
</dl>

<h4 id="int_vec_message">
<a class="anchor" href="#int_vec_message" aria-hidden="true"><span class="octicon octicon-link"></span></a>int_vec_message</h4>

<p>This message type consists of metadata and a vector of integers. It has the following keys:</p>

<dl>
  <dt>metadata (Metadata)</dt>
  <dd>The message metadata</dd>
  <dt>data (int vector)</dt>
  <dd>A vector of integers</dd>
</dl>

<h3 id="python-api">
<a class="anchor" href="#python-api" aria-hidden="true"><span class="octicon octicon-link"></span></a>Python API</h3>

<p>Pipelines can be defined and run using a simple Python API.
The library for doing so can be imported using,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">TEM_graph</span>
</code></pre></div></div>

<p>A graph can then be created using,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">graph</span> <span class="o">=</span> <span class="n">TEM_graph</span><span class="p">.</span><span class="nf">graph</span><span class="p">()</span>
</code></pre></div></div>

<p>Nodes are acessible in the <code class="language-plaintext highlighter-rouge">TEM_graph.nodes</code> submodule.
For example, a CLAHE node could be created using,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CLAHE_node</span> <span class="o">=</span> <span class="n">TEM_graph</span><span class="p">.</span><span class="n">nodes</span><span class="p">.</span><span class="nc">CLAHENode</span><span class="p">(</span>
    <span class="n">clipLimit</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<p>Alternatively, if this operation should be performed on a GPU, the GPU version of the node could be crated,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CLAHE_node</span> <span class="o">=</span> <span class="n">TEM_graph</span><span class="p">.</span><span class="n">nodes</span><span class="p">.</span><span class="nc">CLAHENodeGPU</span><span class="p">(</span>
    <span class="n">clipLimit</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<blockquote>
  <p><strong>Please note:</strong></p>

  <p>before this node could be used, the image data would have to be moved to GPU memory using the <a href="#togpunode">ToGPUNode</a>.</p>
</blockquote>

<p>Once the desired nodes are created, they can be connected together using the <code class="language-plaintext highlighter-rouge">TEM_graph.make_edge()</code> function.
For example,</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">TEM_graph</span><span class="p">.</span><span class="nf">make_edge</span><span class="p">(</span><span class="n">to_GPU_node</span><span class="p">,</span> <span class="n">CLAHE_node</span><span class="p">)</span>
</code></pre></div></div>

<p>would connect the output of the <code class="language-plaintext highlighter-rouge">to_GPU_node</code> to the input of the <code class="language-plaintext highlighter-rouge">CLAHE_node</code>.
Once the graph is assembled, input nodes must be actived using the <code class="language-plaintext highlighter-rouge">.activate()</code> method of the input node.</p>

<p>After the graph is running, the <code class="language-plaintext highlighter-rouge">graph.wait_for_all()</code> function will wait for processing to be complete.
Alternatively, the <code class="language-plaintext highlighter-rouge">graph.cancel()</code> function can be used to immediately halt data processing.</p>

<h3 id="config-file">
<a class="anchor" href="#config-file" aria-hidden="true"><span class="octicon octicon-link"></span></a>Config File</h3>

<p>To further streamline pipeline creation, a <a href="https://yaml.org/">YAML</a> configuration file format was created.
An example the following pipeline could be crated using a configuration file.</p>

<div class="diagram"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0.00 0.00 1041.00 659.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(144 515)">
<title>%3</title>
<g id="clust1" class="cluster">
<title>cluster_Intel TBB</title>
<path fill="#ffe0b2" stroke="#aeb6be" d="M20,-8C20,-8 733,-8 733,-8 739,-8 745,-14 745,-20 745,-20 745,-351 745,-351 745,-357 739,-363 733,-363 733,-363 20,-363 20,-363 14,-363 8,-357 8,-351 8,-351 8,-20 8,-20 8,-14 14,-8 20,-8"></path>
<text text-anchor="middle" x="43.5" y="-349.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Intel TBB</text>
</g>
<!-- 6f5c7e3340c240698ac21c17c9eeb63d -->
<g id="node1" class="node">
<title>6f5c7e3340c240698ac21c17c9eeb63d</title>
<g id="a_node1"><a xlink:href="#subscriberawtilenode" xlink:title="SubscribeRawTileNode">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="16" y="-225.5"></image>
<text text-anchor="middle" x="66.5" y="-110.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">SubscribeRawTileNode</text>
</a>
</g>
</g>
<!-- d720083217aa488495f3d56082d146c0 -->
<g id="node2" class="node">
<title>d720083217aa488495f3d56082d146c0</title>
<g id="a_node2"><a xlink:href="#imreadnode" xlink:title="IMReadNode">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="171" y="-231.812"></image>
<text text-anchor="middle" x="221.5" y="-110.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">IMReadNode</text>
</a>
</g>
</g>
<!-- 6f5c7e3340c240698ac21c17c9eeb63d&#45;&gt;d720083217aa488495f3d56082d146c0 -->
<g id="edge1" class="edge">
<title>6f5c7e3340c240698ac21c17c9eeb63d-&gt;d720083217aa488495f3d56082d146c0</title>
<path fill="none" stroke="#7b8894" d="M117.17,-175C131.01,-175 146.18,-175 160.53,-175"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="160.81,-178.5 170.81,-175 160.81,-171.5 160.81,-178.5"></polygon>
</g>
<!-- e760a63bc472490da3073344fa2d84c9 -->
<g id="node3" class="node">
<title>e760a63bc472490da3073344fa2d84c9</title>
<g id="a_node3"><a xlink:href="#minmaxmeannode" xlink:title="MinMaxMeanNode">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="326" y="-141.812"></image>
<text text-anchor="middle" x="376.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">MinMaxMeanNode</text>
</a>
</g>
</g>
<!-- d720083217aa488495f3d56082d146c0&#45;&gt;e760a63bc472490da3073344fa2d84c9 -->
<g id="edge2" class="edge">
<title>d720083217aa488495f3d56082d146c0-&gt;e760a63bc472490da3073344fa2d84c9</title>
<path fill="none" stroke="#7b8894" d="M272.17,-145.78C286.41,-137.41 302.06,-128.2 316.79,-119.54"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="318.97,-122.31 325.81,-114.23 315.42,-116.28 318.97,-122.31"></polygon>
</g>
<!-- 9460c31b4f24428db0a1c6c2656fd48e -->
<g id="node5" class="node">
<title>9460c31b4f24428db0a1c6c2656fd48e</title>
<g id="a_node5"><a xlink:href="#histogramnode" xlink:title="HistogramNode">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="326" y="-321.812"></image>
<text text-anchor="middle" x="376.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">HistogramNode</text>
</a>
</g>
</g>
<!-- d720083217aa488495f3d56082d146c0&#45;&gt;9460c31b4f24428db0a1c6c2656fd48e -->
<g id="edge4" class="edge">
<title>d720083217aa488495f3d56082d146c0-&gt;9460c31b4f24428db0a1c6c2656fd48e</title>
<path fill="none" stroke="#7b8894" d="M272.17,-204.22C286.41,-212.59 302.06,-221.8 316.79,-230.46"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="315.42,-233.72 325.81,-235.77 318.97,-227.69 315.42,-233.72"></polygon>
</g>
<!-- 34561361fb324726adead1762a96c9d4 -->
<g id="node4" class="node">
<title>34561361fb324726adead1762a96c9d4</title>
<g id="a_node4"><a xlink:href="#publishminmaxmeannode" xlink:title="PublishMinMaxMeanNode">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="481" y="-135.5"></image>
<text text-anchor="middle" x="531.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">PublishMinMaxMeanNode</text>
</a>
</g>
</g>
<!-- e760a63bc472490da3073344fa2d84c9&#45;&gt;34561361fb324726adead1762a96c9d4 -->
<g id="edge3" class="edge">
<title>e760a63bc472490da3073344fa2d84c9-&gt;34561361fb324726adead1762a96c9d4</title>
<path fill="none" stroke="#7b8894" d="M427.17,-85C441.01,-85 456.18,-85 470.53,-85"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="470.81,-88.5 480.81,-85 470.81,-81.5 470.81,-88.5"></polygon>
</g>
<!-- 671e7073dfc14b9d8cc7255eeed65c48 -->
<g id="node6" class="node">
<title>671e7073dfc14b9d8cc7255eeed65c48</title>
<g id="a_node6"><a xlink:href="imwritenode" xlink:title="IMWriteNode">
<image xlink:href="/TEM_architecture/icons/cpp.png" width="101px" height="113.625px" preserveaspectratio="xMinYMin meet" x="481" y="-321.812"></image>
<text text-anchor="middle" x="531.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">IMWriteNode</text>
</a>
</g>
</g>
<!-- 9460c31b4f24428db0a1c6c2656fd48e&#45;&gt;671e7073dfc14b9d8cc7255eeed65c48 -->
<g id="edge5" class="edge">
<title>9460c31b4f24428db0a1c6c2656fd48e-&gt;671e7073dfc14b9d8cc7255eeed65c48</title>
<path fill="none" stroke="#7b8894" d="M427.17,-265C441.01,-265 456.18,-265 470.53,-265"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="470.81,-268.5 480.81,-265 470.81,-261.5 470.81,-268.5"></polygon>
</g>
<!-- dcfc238a9af449ac9bc5f43d08827117 -->
<g id="node7" class="node">
<title>dcfc238a9af449ac9bc5f43d08827117</title>
<g id="a_node7"><a xlink:href="#publishfilenode" xlink:title="PublishFileNode">
<image xlink:href="/TEM_architecture/icons/python.png" width="101px" height="101px" preserveaspectratio="xMinYMin meet" x="636" y="-315.5"></image>
<text text-anchor="middle" x="686.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">PublishFileNode</text>
</a>
</g>
</g>
<!-- 671e7073dfc14b9d8cc7255eeed65c48&#45;&gt;dcfc238a9af449ac9bc5f43d08827117 -->
<g id="edge6" class="edge">
<title>671e7073dfc14b9d8cc7255eeed65c48-&gt;dcfc238a9af449ac9bc5f43d08827117</title>
<path fill="none" stroke="#7b8894" d="M582.17,-265C596.01,-265 611.18,-265 625.53,-265"></path>
<polygon fill="#7b8894" stroke="#7b8894" points="625.81,-268.5 635.81,-265 625.81,-261.5 625.81,-268.5"></polygon>
</g>
</g>
</svg></div>

<p>The configuration file to create this pipeline is:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">nodes</span><span class="pi">:</span> <span class="c1"># All nodes must be defined under this key</span>
  <span class="na">input</span><span class="pi">:</span> <span class="c1"># This is the name of the first node</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">SubscribeRawTileNode</span> <span class="c1"># This is the name of the class that instantiates the node</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s">read</span> <span class="c1"># The name of the node which should recieve the output of this node</span>
  <span class="na">read</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">IMReadNode</span>
    <span class="na">to</span><span class="pi">:</span> <span class="c1"># Multiple node names can also be specified</span>
      <span class="pi">-</span> <span class="s">histogram</span>
      <span class="pi">-</span> <span class="s">min_max_mean</span>
  <span class="na">histogram</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">HistogramNode</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s">save</span>
  <span class="na">save</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">IMWriteNode</span>
    <span class="na">args</span><span class="pi">:</span> <span class="c1"># Keyword arguments can be defined that will be provided to the node when it is initialized</span>
      <span class="na">output_dir</span><span class="pi">:</span> <span class="s">/tmp/</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s">send_histogram</span>
  <span class="na">send_histogram</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">PublishFileNode</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">service</span><span class="pi">:</span> <span class="s">publish_histogram</span>
      <span class="na">topic</span><span class="pi">:</span> <span class="s">tile.statistics.histogram</span>
    <span class="c1"># The 'to' key is not required</span>
  <span class="na">min_max_mean</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">MinMaxMeanNode</span>
    <span class="na">to</span><span class="pi">:</span> <span class="s">send_min_max_mean</span>
  <span class="na">send_min_max_mean</span><span class="pi">:</span>
    <span class="na">type</span><span class="pi">:</span> <span class="s">PublishMinMaxMeanNode</span>
    <span class="na">args</span><span class="pi">:</span>
      <span class="na">service</span><span class="pi">:</span> <span class="s">publish_min_max_mean</span>
</code></pre></div></div>

<p>Once a pipeline configuration file has been written, a command line utility can be used to run the pipeline:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>TEM_graph pipeline.yaml
</code></pre></div></div>

</div>
    </div>
</div>
        <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer__middle-section">
    
  </div>
  <div class="mdl-mega-footer__bottom-section">
    <ul class="mdl-mega-footer__link-list">
      
    </ul>
  </div>
</footer>

      </main>
    </div>
  </body>
</html>

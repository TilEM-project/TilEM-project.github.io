<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>pyTEM - TEM Architecture</title>
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
<!-- <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.-.min.css"/> -->
<link rel="stylesheet" href="/assets/css/style.css"/>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/font-awesome.min.css"> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  }
};
</script>

  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <!-- <div class="mdl-layout--fixed-header mdl-layout__header--scroll"> -->
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout-title">
        <a href="/">TEM Architecture</a>
      </span>
      <div class="mdl-layout-spacer mdl-layout--large-screen-only"></div>
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        
          <a class="mdl-navigation__link" href="/topics.html">Topics</a>
        
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">TEM Architecture</span>
    <nav class="mdl-navigation">
      
        <a class="mdl-navigation__link" href="/topics.html">Topics</a>
        
      
    </nav>
  </div>
<!-- </div> -->

      <main class="mdl-layout__content">
        <div class="mdl-grid page-container">
    <div class="mdl-card mdl-cell--12-col mdl-shadow--4dp">
        <div class="mdl-card__title">
            <h2 class="mdl-card__title--text">
                pyTEM
            </h2>
        </div>
        
  <div class="mdl-card__supporting-text mdl-card--border">
    
    
      <h3>Sends</h3>
      <ul>
        
        
          <li><a href="/topics.html#camera-command">camera.command</a></li>
        
          <li><a href="/topics.html#camera-settings">camera.settings</a></li>
        
          <li><a href="/topics.html#scope-command">scope.command</a></li>
        
          <li><a href="/topics.html#stage-aperture-command">stage.aperture.command</a></li>
        
          <li><a href="/topics.html#stage-motion-command">stage.motion.command</a></li>
        
          <li><a href="/topics.html#stage-rotation-command">stage.rotation.command</a></li>
        
          <li><a href="/topics.html#tile-raw">tile.raw</a></li>
        
      </ul>
    
    
      <h3>Receives</h3>
      <ul>
        
        
          <li><a href="/topics.html#camera-image">camera.image</a></li>
        
          <li><a href="/topics.html#camera-status">camera.status</a></li>
        
          <li><a href="/topics.html#scope-status">scope.status</a></li>
        
          <li><a href="/topics.html#stage-aperture-status">stage.aperture.status</a></li>
        
          <li><a href="/topics.html#stage-motion-status">stage.motion.status</a></li>
        
          <li><a href="/topics.html#stage-rotation-status">stage.rotation.status</a></li>
        
      </ul>
    
  </div>

<div class="mdl-card__supporting-text">
  <div class="diagram"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0.00 0.00 828.00 612.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(144 468)">
<title>%3</title>
<g id="clust1" class="cluster">
<title>cluster_pyTEM States</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M12,0C12,0 528,0 528,0 534,0 540,-6 540,-12 540,-12 540,-312 540,-312 540,-318 534,-324 528,-324 528,-324 12,-324 12,-324 6,-324 0,-318 0,-312 0,-312 0,-12 0,-12 0,-6 6,0 12,0" />
<text text-anchor="middle" x="49" y="-310.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">pyTEM States</text>
</g>
<!-- 020a7046a229495f93b1c56a3d275df4 -->
<g id="node1" class="node">
<title>020a7046a229495f93b1c56a3d275df4</title>
<g id="a_node1"><a xlink:href="#preview-state" xlink:title="Preview/Setup State">
<path fill="none" stroke="black" d="M348,-324C348,-324 156,-324 156,-324 150,-324 144,-318 144,-312 144,-312 144,-300 144,-300 144,-294 150,-288 156,-288 156,-288 348,-288 348,-288 354,-288 360,-294 360,-300 360,-300 360,-312 360,-312 360,-318 354,-324 348,-324" />
<text text-anchor="middle" x="252" y="-302.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Preview/Setup State</text>
</a>
</g>
</g>
<!-- 3c4018c279304cb69688b8b4d3037b9d -->
<g id="node2" class="node">
<title>3c4018c279304cb69688b8b4d3037b9d</title>
<g id="a_node2"><a xlink:href="#change-aperture-state" xlink:title="Change Aperture State">
<path fill="none" stroke="black" d="M204,-216C204,-216 12,-216 12,-216 6,-216 0,-210 0,-204 0,-204 0,-192 0,-192 0,-186 6,-180 12,-180 12,-180 204,-180 204,-180 210,-180 216,-186 216,-192 216,-192 216,-204 216,-204 216,-210 210,-216 204,-216" />
<text text-anchor="middle" x="108" y="-194.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Change Aperture State</text>
</a>
</g>
</g>
<!-- 020a7046a229495f93b1c56a3d275df4&#45;&gt;3c4018c279304cb69688b8b4d3037b9d -->
<g id="edge1" class="edge">
<title>020a7046a229495f93b1c56a3d275df4-&gt;3c4018c279304cb69688b8b4d3037b9d</title>
<path fill="none" stroke="#7b8894" d="M227.9,-287.92C203.91,-269.93 166.95,-242.21 140.4,-222.3" />
<polygon fill="#7b8894" stroke="#7b8894" points="142.28,-219.34 132.18,-216.14 138.08,-224.94 142.28,-219.34" />
</g>
<!-- 503b60717ae5457db641b79aef395c3f -->
<g id="node3" class="node">
<title>503b60717ae5457db641b79aef395c3f</title>
<g id="a_node3"><a xlink:href="#acquisition-state" xlink:title="Acquisition State">
<path fill="none" stroke="black" d="M348,-36C348,-36 156,-36 156,-36 150,-36 144,-30 144,-24 144,-24 144,-12 144,-12 144,-6 150,0 156,0 156,0 348,0 348,0 354,0 360,-6 360,-12 360,-12 360,-24 360,-24 360,-30 354,-36 348,-36" />
<text text-anchor="middle" x="252" y="-14.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Acquisition State</text>
</a>
</g>
</g>
<!-- 3c4018c279304cb69688b8b4d3037b9d&#45;&gt;503b60717ae5457db641b79aef395c3f -->
<g id="edge2" class="edge">
<title>3c4018c279304cb69688b8b4d3037b9d-&gt;503b60717ae5457db641b79aef395c3f</title>
<path fill="none" stroke="#7b8894" d="M137.2,-179.69C170.66,-147.66 222.24,-82.73 243.56,-45.39" />
<polygon fill="#7b8894" stroke="#7b8894" points="246.9,-46.56 248.52,-36.08 240.73,-43.27 246.9,-46.56" />
</g>
<!-- de978802339c4b0d89eff41be34e13e4 -->
<g id="node4" class="node">
<title>de978802339c4b0d89eff41be34e13e4</title>
<g id="a_node4"><a xlink:href="#error-state" xlink:title="Error State">
<polygon fill="none" stroke="black" points="468,-225 396,-198 468,-171 540,-198 468,-225" />
<text text-anchor="middle" x="468" y="-194.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Error State</text>
</a>
</g>
</g>
<!-- 3c4018c279304cb69688b8b4d3037b9d&#45;&gt;de978802339c4b0d89eff41be34e13e4 -->
<g id="edge5" class="edge">
<title>3c4018c279304cb69688b8b4d3037b9d-&gt;de978802339c4b0d89eff41be34e13e4</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M216.01,-198C270.46,-198 335.43,-198 385.76,-198" />
<polygon fill="red" stroke="red" points="385.94,-201.5 395.94,-198 385.94,-194.5 385.94,-201.5" />
<text text-anchor="middle" x="284.38" y="-201.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Error</text>
</g>
<!-- 503b60717ae5457db641b79aef395c3f&#45;&gt;020a7046a229495f93b1c56a3d275df4 -->
<g id="edge6" class="edge">
<title>503b60717ae5457db641b79aef395c3f-&gt;020a7046a229495f93b1c56a3d275df4</title>
<path fill="none" stroke="blue" stroke-dasharray="5,2" d="M252,-36.02C252,-84.71 252,-219.2 252,-277.94" />
<polygon fill="blue" stroke="blue" points="248.5,-277.99 252,-287.99 255.5,-277.99 248.5,-277.99" />
<text text-anchor="middle" x="233.5" y="-160.58" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Abort</text>
</g>
<!-- 503b60717ae5457db641b79aef395c3f&#45;&gt;3c4018c279304cb69688b8b4d3037b9d -->
<g id="edge3" class="edge">
<title>503b60717ae5457db641b79aef395c3f-&gt;3c4018c279304cb69688b8b4d3037b9d</title>
<path fill="none" stroke="#7b8894" d="M222.01,-36.31C188.21,-68.39 136.69,-133.34 115.83,-170.68" />
<polygon fill="#7b8894" stroke="#7b8894" points="112.5,-169.5 111.01,-179.99 118.72,-172.72 112.5,-169.5" />
<text text-anchor="middle" x="145.42" y="-107.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Repeat</text>
</g>
<!-- 503b60717ae5457db641b79aef395c3f&#45;&gt;de978802339c4b0d89eff41be34e13e4 -->
<g id="edge4" class="edge">
<title>503b60717ae5457db641b79aef395c3f-&gt;de978802339c4b0d89eff41be34e13e4</title>
<path fill="none" stroke="red" stroke-dasharray="5,2" d="M273.9,-36.25C312.67,-68.56 393.46,-135.88 437.6,-172.66" />
<polygon fill="red" stroke="red" points="435.47,-175.45 445.39,-179.16 439.95,-170.07 435.47,-175.45" />
<text text-anchor="middle" x="339.25" y="-108.06" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Error</text>
</g>
</g>
</svg></div>

<h2 id="preview-state">Preview State</h2>

<p>This state is is the entry point to the system. It is the default state at start up and will also be the state that the system will revert to upon detecting an error that does not crash the system.</p>

<h3 id="preview-state-logic">Preview State Logic</h3>

<p>Upon entering this state the system will continuously acquire images from the XIMEA camera and each image frame will be minimally processed. The images are then JPEG encoded and sent to python which pushes them to a websocket to display on a browser based UI.</p>

<div class="diagram"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0.00 0.00 1474.00 868.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(144 724)">
<title>%3</title>
<g id="clust1" class="cluster">
<title>cluster_opencv_graph</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M159,-8C159,-8 717,-8 717,-8 723,-8 729,-14 729,-20 729,-20 729,-560 729,-560 729,-566 723,-572 717,-572 717,-572 159,-572 159,-572 153,-572 147,-566 147,-560 147,-560 147,-20 147,-20 147,-14 153,-8 159,-8" />
<text text-anchor="middle" x="197.5" y="-558.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">opencv_graph</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_pyTEMCA</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M779,-217C779,-217 1027,-217 1027,-217 1033,-217 1039,-223 1039,-229 1039,-229 1039,-380 1039,-380 1039,-386 1033,-392 1027,-392 1027,-392 779,-392 779,-392 773,-392 767,-386 767,-380 767,-380 767,-229 767,-229 767,-223 773,-217 779,-217" />
<text text-anchor="middle" x="803.5" y="-378.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">pyTEMCA</text>
</g>
<!-- d10176e659554854bada834ff5eacb57 -->
<g id="node1" class="node">
<title>d10176e659554854bada834ff5eacb57</title>
<image xlink:href="/icons/cpp.png" width="101px" height="113.625px" preserveAspectRatio="xMinYMin meet" x="155" y="-350.812" />
<text text-anchor="middle" x="205.5" y="-229.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Acquire Image</text>
</g>
<!-- 8c598735e7c24abd8e629f13bc226f87 -->
<g id="node2" class="node">
<title>8c598735e7c24abd8e629f13bc226f87</title>
<image xlink:href="/icons/cpp.png" width="101px" height="113.625px" preserveAspectRatio="xMinYMin meet" x="310" y="-350.812" />
<text text-anchor="middle" x="360.5" y="-228.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Flat Field Correction</text>
<text text-anchor="middle" x="360.5" y="-214.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">and CLAHE (CUDA)</text>
</g>
<!-- d10176e659554854bada834ff5eacb57&#45;&gt;8c598735e7c24abd8e629f13bc226f87 -->
<g id="edge1" class="edge">
<title>d10176e659554854bada834ff5eacb57-&gt;8c598735e7c24abd8e629f13bc226f87</title>
<path fill="none" stroke="#7b8894" d="M256.17,-294C270.01,-294 285.18,-294 299.53,-294" />
<polygon fill="#7b8894" stroke="#7b8894" points="299.81,-297.5 309.81,-294 299.81,-290.5 299.81,-297.5" />
</g>
<!-- 36837d7b0ada4ce796e233422b83e267 -->
<g id="node3" class="node">
<title>36837d7b0ada4ce796e233422b83e267</title>
<image xlink:href="/icons/cpp.png" width="101px" height="113.625px" preserveAspectRatio="xMinYMin meet" x="465" y="-155.812" />
<text text-anchor="middle" x="515.5" y="-33.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Calculate Stats</text>
<text text-anchor="middle" x="515.5" y="-19.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">(Min/Max/Mean)</text>
</g>
<!-- 8c598735e7c24abd8e629f13bc226f87&#45;&gt;36837d7b0ada4ce796e233422b83e267 -->
<g id="edge4" class="edge">
<title>8c598735e7c24abd8e629f13bc226f87-&gt;36837d7b0ada4ce796e233422b83e267</title>
<path fill="none" stroke="#7b8894" d="M411.17,-230.69C426.28,-211.43 442.99,-190.14 458.48,-170.39" />
<polygon fill="#7b8894" stroke="#7b8894" points="461.39,-172.35 464.81,-162.33 455.89,-168.03 461.39,-172.35" />
</g>
<!-- c7568cbe73a94d8383118ff4a5175b49 -->
<g id="node4" class="node">
<title>c7568cbe73a94d8383118ff4a5175b49</title>
<image xlink:href="/icons/cpp.png" width="101px" height="113.625px" preserveAspectRatio="xMinYMin meet" x="465" y="-350.812" />
<text text-anchor="middle" x="515.5" y="-229.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Calculate FFT Focus Score</text>
</g>
<!-- 8c598735e7c24abd8e629f13bc226f87&#45;&gt;c7568cbe73a94d8383118ff4a5175b49 -->
<g id="edge6" class="edge">
<title>8c598735e7c24abd8e629f13bc226f87-&gt;c7568cbe73a94d8383118ff4a5175b49</title>
<path fill="none" stroke="#7b8894" d="M411.17,-294C425.01,-294 440.18,-294 454.53,-294" />
<polygon fill="#7b8894" stroke="#7b8894" points="454.81,-297.5 464.81,-294 454.81,-290.5 454.81,-297.5" />
</g>
<!-- 4a1c836a010d4516b771f447a4c7d6a2 -->
<g id="node5" class="node">
<title>4a1c836a010d4516b771f447a4c7d6a2</title>
<image xlink:href="/icons/cpp.png" width="101px" height="113.625px" preserveAspectRatio="xMinYMin meet" x="465" y="-530.812" />
<text text-anchor="middle" x="515.5" y="-409.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">JPEG Compress</text>
</g>
<!-- 8c598735e7c24abd8e629f13bc226f87&#45;&gt;4a1c836a010d4516b771f447a4c7d6a2 -->
<g id="edge2" class="edge">
<title>8c598735e7c24abd8e629f13bc226f87-&gt;4a1c836a010d4516b771f447a4c7d6a2</title>
<path fill="none" stroke="#7b8894" d="M411.17,-352.44C426.22,-370.14 442.84,-389.69 458.28,-407.86" />
<polygon fill="#7b8894" stroke="#7b8894" points="455.67,-410.19 464.81,-415.54 461,-405.66 455.67,-410.19" />
</g>
<!-- 573329cb1abc4fcea311a51ec0aac5c6 -->
<g id="node6" class="node">
<title>573329cb1abc4fcea311a51ec0aac5c6</title>
<image xlink:href="/icons/cpp.png" width="101px" height="113.625px" preserveAspectRatio="xMinYMin meet" x="620" y="-350.812" />
<text text-anchor="middle" x="670.5" y="-228.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Send to Python</text>
<text text-anchor="middle" x="670.5" y="-214.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">via pybind11</text>
</g>
<!-- 36837d7b0ada4ce796e233422b83e267&#45;&gt;573329cb1abc4fcea311a51ec0aac5c6 -->
<g id="edge5" class="edge">
<title>36837d7b0ada4ce796e233422b83e267-&gt;573329cb1abc4fcea311a51ec0aac5c6</title>
<path fill="none" stroke="#7b8894" d="M566.17,-162.31C581.28,-181.57 597.99,-202.86 613.48,-222.61" />
<polygon fill="#7b8894" stroke="#7b8894" points="610.89,-224.97 619.81,-230.67 616.39,-220.65 610.89,-224.97" />
</g>
<!-- c7568cbe73a94d8383118ff4a5175b49&#45;&gt;573329cb1abc4fcea311a51ec0aac5c6 -->
<g id="edge7" class="edge">
<title>c7568cbe73a94d8383118ff4a5175b49-&gt;573329cb1abc4fcea311a51ec0aac5c6</title>
<path fill="none" stroke="#7b8894" d="M566.17,-294C580.01,-294 595.18,-294 609.53,-294" />
<polygon fill="#7b8894" stroke="#7b8894" points="609.81,-297.5 619.81,-294 609.81,-290.5 609.81,-297.5" />
</g>
<!-- 4a1c836a010d4516b771f447a4c7d6a2&#45;&gt;573329cb1abc4fcea311a51ec0aac5c6 -->
<g id="edge3" class="edge">
<title>4a1c836a010d4516b771f447a4c7d6a2-&gt;573329cb1abc4fcea311a51ec0aac5c6</title>
<path fill="none" stroke="#7b8894" d="M566.17,-415.56C581.22,-397.86 597.84,-378.31 613.28,-360.14" />
<polygon fill="#7b8894" stroke="#7b8894" points="616,-362.34 619.81,-352.46 610.67,-357.81 616,-362.34" />
</g>
<!-- 613f81fc93194a7c9c60edd4846b8edf -->
<g id="node7" class="node">
<title>613f81fc93194a7c9c60edd4846b8edf</title>
<image xlink:href="/icons/python.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="775" y="-344.5" />
<text text-anchor="middle" x="825.5" y="-229.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Encode Image</text>
</g>
<!-- 573329cb1abc4fcea311a51ec0aac5c6&#45;&gt;613f81fc93194a7c9c60edd4846b8edf -->
<g id="edge8" class="edge">
<title>573329cb1abc4fcea311a51ec0aac5c6-&gt;613f81fc93194a7c9c60edd4846b8edf</title>
<path fill="none" stroke="#7b8894" d="M721.17,-294C735.01,-294 750.18,-294 764.53,-294" />
<polygon fill="#7b8894" stroke="#7b8894" points="764.81,-297.5 774.81,-294 764.81,-290.5 764.81,-297.5" />
</g>
<!-- 5ecc8679574e4da4bc5318ec4c7d3f60 -->
<g id="node8" class="node">
<title>5ecc8679574e4da4bc5318ec4c7d3f60</title>
<image xlink:href="/icons/python.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="930" y="-344.5" />
<text text-anchor="middle" x="980.5" y="-229.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Publish Image</text>
</g>
<!-- 613f81fc93194a7c9c60edd4846b8edf&#45;&gt;5ecc8679574e4da4bc5318ec4c7d3f60 -->
<g id="edge9" class="edge">
<title>613f81fc93194a7c9c60edd4846b8edf-&gt;5ecc8679574e4da4bc5318ec4c7d3f60</title>
<path fill="none" stroke="#7b8894" d="M876.17,-294C890.01,-294 905.18,-294 919.53,-294" />
<polygon fill="#7b8894" stroke="#7b8894" points="919.81,-297.5 929.81,-294 919.81,-290.5 919.81,-297.5" />
</g>
<!-- 8cc884f07a394fff901bed540a444ce6 -->
<g id="node9" class="node">
<title>8cc884f07a394fff901bed540a444ce6</title>
<image xlink:href="/icons/user.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1085" y="-344.5" />
<text text-anchor="middle" x="1135.5" y="-229.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Web UI</text>
</g>
<!-- 5ecc8679574e4da4bc5318ec4c7d3f60&#45;&gt;8cc884f07a394fff901bed540a444ce6 -->
<g id="edge10" class="edge">
<title>5ecc8679574e4da4bc5318ec4c7d3f60-&gt;8cc884f07a394fff901bed540a444ce6</title>
<path fill="none" stroke="#7b8894" d="M1031.17,-294C1045.01,-294 1060.18,-294 1074.53,-294" />
<polygon fill="#7b8894" stroke="#7b8894" points="1074.81,-297.5 1084.81,-294 1074.81,-290.5 1074.81,-297.5" />
</g>
<!-- f1644d2212c3423caa3508f2481e890f -->
<g id="node10" class="node">
<title>f1644d2212c3423caa3508f2481e890f</title>
<image xlink:href="/icons/decision.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="0" y="-344.5" />
<text text-anchor="middle" x="50.5" y="-229.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">State Changed?</text>
</g>
<!-- f1644d2212c3423caa3508f2481e890f&#45;&gt;d10176e659554854bada834ff5eacb57 -->
<g id="edge12" class="edge">
<title>f1644d2212c3423caa3508f2481e890f-&gt;d10176e659554854bada834ff5eacb57</title>
<path fill="none" stroke="#7b8894" d="M101.17,-294C115.01,-294 130.18,-294 144.53,-294" />
<polygon fill="#7b8894" stroke="#7b8894" points="144.81,-297.5 154.81,-294 144.81,-290.5 144.81,-297.5" />
</g>
<!-- f1644d2212c3423caa3508f2481e890f&#45;&gt;f1644d2212c3423caa3508f2481e890f -->
<g id="edge11" class="edge">
<title>f1644d2212c3423caa3508f2481e890f-&gt;f1644d2212c3423caa3508f2481e890f</title>
<path fill="none" stroke="#7b8894" d="M21.63,-362.6C21.33,-386.33 30.95,-405.5 50.5,-405.5 67.15,-405.5 76.6,-391.6 78.85,-372.82" />
<polygon fill="#7b8894" stroke="#7b8894" points="82.35,-372.76 79.37,-362.6 75.36,-372.4 82.35,-372.76" />
<text text-anchor="middle" x="24.64" y="-391.6" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Repeat</text>
</g>
</g>
</svg></div>

<h2 id="change-aperture-state">Change Aperture State</h2>

<p>The Change Aperture State represents a state for moving to an aperture on a grid tape or stick16.</p>

<h3 id="change-aperture-state-logic">Change Aperture State Logic</h3>

<p>Upon entering this state it handles the entry logic for the state and initializes tape_ranges if it is None. It tries to fetch barcode values from TEM_db (if using tape); otherwise, it sets default values.</p>

<p>Next the code performs the following:</p>

<ol>
  <li>
    <p>Initialization and Logging:
 Clears lists related to aperture critical and error events.
 Logs the action of changing the aperture.</p>
  </li>
  <li>
    <p>State Check for Pause:
 Checks if the current montage state is PAUSE. If yes, it schedules the _change_aperture method to run again after 0.2 seconds and exits the current execution.</p>
  </li>
  <li>
    <p>Preparatory Actions:
 Updates beam center results and informs the system that a new montage is starting.</p>
  </li>
  <li>Abort Conditions Check:
 Checks several conditions to decide whether to abort the operation:
    <ul>
      <li>If required media information is missing.</li>
      <li>If environmental conditions are not suitable.</li>
      <li>If there’s a pending request to abort at the end of the montage.</li>
      <li>If there is insufficient disk space.</li>
      <li>If too many errors have accumulated (default is 3).</li>
    </ul>
  </li>
  <li>Handling of Tape and Aperture:
 Retrieves the next task object (TAO) from the montage controller.
 If a valid TAO is found:
    <ul>
      <li>Checks if the destination directory exists or needs to be created.</li>
      <li>Checks for existing data that might require an abort.</li>
      <li>Performs adjustments based on the first Region of Interest (ROI) from tao.</li>
    </ul>
  </li>
  <li>
    <p>Aperture Movement and Correction:
 Manages movement to the correct grid or aperture based on the tape controller status.
 Deals with potential barcode errors and adjusts based on confidence levels in the barcode readings.</p>
  </li>
  <li>
    <p>Lens and Beam Adjustments:
 Adjusts the beam’s brightness and attempts to find a centroid for the aperture if needed.
 Conducts a quality check on the beam’s brightness and might abort if the beam mean value is too low.
 Manages autocentering of the beam if necessary.</p>
  </li>
  <li>
    <p>Brightfield Imaging:
 Handles brightfield imaging conditions and might abort based on the quality of consecutive brightfield images.</p>
  </li>
  <li>
    <p>Lens Correction Montage:
 Decides whether a new lens correction montage is necessary based on time intervals and changes in lens conditions.</p>
  </li>
  <li>Finalizing and Error Handling:
If no ROIs are found in tao, logs the event but continues processing.
If there are still tasks (taos) left in the montage queue, it triggers the start of another attempt.
Sets the montage state to NONE if no tasks are left.</li>
</ol>

<div class="diagram"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0.00 0.00 2281.00 659.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(144 515)">
<title>%3</title>
<g id="clust1" class="cluster">
<title>cluster_Change Aperture State</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M20,-8C20,-8 1973,-8 1973,-8 1979,-8 1985,-14 1985,-20 1985,-20 1985,-351 1985,-351 1985,-357 1979,-363 1973,-363 1973,-363 20,-363 20,-363 14,-363 8,-357 8,-351 8,-351 8,-20 8,-20 8,-14 14,-8 20,-8" />
<text text-anchor="middle" x="85" y="-349.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Change Aperture State</text>
</g>
<!-- e16ae9d0ff7242b3a5adf4de006c96d4 -->
<g id="node1" class="node">
<title>e16ae9d0ff7242b3a5adf4de006c96d4</title>
<image xlink:href="/icons/start-end.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="16" y="-225.5" />
<text text-anchor="middle" x="66.5" y="-110.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Enter State</text>
</g>
<!-- 6e0ee0f029ad4cb6b51f1427bfbbad77 -->
<g id="node2" class="node">
<title>6e0ee0f029ad4cb6b51f1427bfbbad77</title>
<image xlink:href="/icons/decision.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="171" y="-225.5" />
<text text-anchor="middle" x="221.5" y="-110.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Initialize tape_ranges</text>
</g>
<!-- e16ae9d0ff7242b3a5adf4de006c96d4&#45;&gt;6e0ee0f029ad4cb6b51f1427bfbbad77 -->
<g id="edge1" class="edge">
<title>e16ae9d0ff7242b3a5adf4de006c96d4-&gt;6e0ee0f029ad4cb6b51f1427bfbbad77</title>
<path fill="none" stroke="#7b8894" d="M117.17,-175C131.01,-175 146.18,-175 160.53,-175" />
<polygon fill="#7b8894" stroke="#7b8894" points="160.81,-178.5 170.81,-175 160.81,-171.5 160.81,-178.5" />
</g>
<!-- b6cb34a425c546e1b0ea124fa8247662 -->
<g id="node3" class="node">
<title>b6cb34a425c546e1b0ea124fa8247662</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="326" y="-135.5" />
<text text-anchor="middle" x="376.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Fetch Barcode from TEM_db</text>
</g>
<!-- 6e0ee0f029ad4cb6b51f1427bfbbad77&#45;&gt;b6cb34a425c546e1b0ea124fa8247662 -->
<g id="edge2" class="edge">
<title>6e0ee0f029ad4cb6b51f1427bfbbad77-&gt;b6cb34a425c546e1b0ea124fa8247662</title>
<path fill="none" stroke="#7b8894" d="M272.17,-145.78C286.41,-137.41 302.06,-128.2 316.79,-119.54" />
<polygon fill="#7b8894" stroke="#7b8894" points="318.97,-122.31 325.81,-114.23 315.42,-116.28 318.97,-122.31" />
</g>
<!-- a0f68a623be84de98037363910de3a4d -->
<g id="node4" class="node">
<title>a0f68a623be84de98037363910de3a4d</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="326" y="-315.5" />
<text text-anchor="middle" x="376.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Initialization &amp; Logging</text>
</g>
<!-- 6e0ee0f029ad4cb6b51f1427bfbbad77&#45;&gt;a0f68a623be84de98037363910de3a4d -->
<g id="edge3" class="edge">
<title>6e0ee0f029ad4cb6b51f1427bfbbad77-&gt;a0f68a623be84de98037363910de3a4d</title>
<path fill="none" stroke="#7b8894" d="M272.17,-204.22C286.41,-212.59 302.06,-221.8 316.79,-230.46" />
<polygon fill="#7b8894" stroke="#7b8894" points="315.42,-233.72 325.81,-235.77 318.97,-227.69 315.42,-233.72" />
</g>
<!-- 8fac2bf3d9df48bf9398763c371adbbc -->
<g id="node5" class="node">
<title>8fac2bf3d9df48bf9398763c371adbbc</title>
<image xlink:href="/icons/decision.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="481" y="-225.5" />
<text text-anchor="middle" x="531.5" y="-110.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Check if State is PAUSE</text>
</g>
<!-- a0f68a623be84de98037363910de3a4d&#45;&gt;8fac2bf3d9df48bf9398763c371adbbc -->
<g id="edge4" class="edge">
<title>a0f68a623be84de98037363910de3a4d-&gt;8fac2bf3d9df48bf9398763c371adbbc</title>
<path fill="none" stroke="#7b8894" d="M427.17,-235.78C441.41,-227.41 457.06,-218.2 471.79,-209.54" />
<polygon fill="#7b8894" stroke="#7b8894" points="473.97,-212.31 480.81,-204.23 470.42,-206.28 473.97,-212.31" />
</g>
<!-- 10d6b468c92849718e3ec49592a24732 -->
<g id="node6" class="node">
<title>10d6b468c92849718e3ec49592a24732</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="636" y="-135.5" />
<text text-anchor="middle" x="686.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Retry after 0.2s</text>
</g>
<!-- 8fac2bf3d9df48bf9398763c371adbbc&#45;&gt;10d6b468c92849718e3ec49592a24732 -->
<g id="edge6" class="edge">
<title>8fac2bf3d9df48bf9398763c371adbbc-&gt;10d6b468c92849718e3ec49592a24732</title>
<path fill="none" stroke="#7b8894" d="M582.17,-130.92C596.41,-121.56 612.06,-112.19 626.79,-104.17" />
<polygon fill="#7b8894" stroke="#7b8894" points="628.63,-107.16 635.81,-99.37 625.34,-100.98 628.63,-107.16" />
</g>
<!-- 98c70d7a0b824c5fa3dbb108f994ca07 -->
<g id="node7" class="node">
<title>98c70d7a0b824c5fa3dbb108f994ca07</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="636" y="-315.5" />
<text text-anchor="middle" x="686.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Preparatory Actions</text>
</g>
<!-- 8fac2bf3d9df48bf9398763c371adbbc&#45;&gt;98c70d7a0b824c5fa3dbb108f994ca07 -->
<g id="edge5" class="edge">
<title>8fac2bf3d9df48bf9398763c371adbbc-&gt;98c70d7a0b824c5fa3dbb108f994ca07</title>
<path fill="none" stroke="#7b8894" d="M582.17,-204.22C596.41,-212.59 612.06,-221.8 626.79,-230.46" />
<polygon fill="#7b8894" stroke="#7b8894" points="625.42,-233.72 635.81,-235.77 628.97,-227.69 625.42,-233.72" />
</g>
<!-- 10d6b468c92849718e3ec49592a24732&#45;&gt;8fac2bf3d9df48bf9398763c371adbbc -->
<g id="edge7" class="edge">
<title>10d6b468c92849718e3ec49592a24732-&gt;8fac2bf3d9df48bf9398763c371adbbc</title>
<path fill="none" stroke="#7b8894" d="M635.81,-129.79C621.58,-139.2 605.92,-148.59 591.2,-156.57" />
<polygon fill="#7b8894" stroke="#7b8894" points="589.38,-153.57 582.17,-161.34 592.65,-159.76 589.38,-153.57" />
</g>
<!-- 9c4184d3975f4291a967c5435543bb11 -->
<g id="node8" class="node">
<title>9c4184d3975f4291a967c5435543bb11</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="791" y="-315.5" />
<text text-anchor="middle" x="841.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Check Abort Conditions</text>
</g>
<!-- 98c70d7a0b824c5fa3dbb108f994ca07&#45;&gt;9c4184d3975f4291a967c5435543bb11 -->
<g id="edge8" class="edge">
<title>98c70d7a0b824c5fa3dbb108f994ca07-&gt;9c4184d3975f4291a967c5435543bb11</title>
<path fill="none" stroke="#7b8894" d="M737.17,-265C751.01,-265 766.18,-265 780.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="780.81,-268.5 790.81,-265 780.81,-261.5 780.81,-268.5" />
</g>
<!-- b7b0e9f6e8ec431c9629dd161bccff33 -->
<g id="node9" class="node">
<title>b7b0e9f6e8ec431c9629dd161bccff33</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="946" y="-315.5" />
<text text-anchor="middle" x="996.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Handle Tape &amp; Aperture</text>
</g>
<!-- 9c4184d3975f4291a967c5435543bb11&#45;&gt;b7b0e9f6e8ec431c9629dd161bccff33 -->
<g id="edge9" class="edge">
<title>9c4184d3975f4291a967c5435543bb11-&gt;b7b0e9f6e8ec431c9629dd161bccff33</title>
<path fill="none" stroke="#7b8894" d="M892.17,-265C906.01,-265 921.18,-265 935.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="935.81,-268.5 945.81,-265 935.81,-261.5 935.81,-268.5" />
</g>
<!-- c309dfe4b64e45168dac92f03989d14f -->
<g id="node10" class="node">
<title>c309dfe4b64e45168dac92f03989d14f</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1101" y="-315.5" />
<text text-anchor="middle" x="1151.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Aperture Movement &amp; Correction</text>
</g>
<!-- b7b0e9f6e8ec431c9629dd161bccff33&#45;&gt;c309dfe4b64e45168dac92f03989d14f -->
<g id="edge10" class="edge">
<title>b7b0e9f6e8ec431c9629dd161bccff33-&gt;c309dfe4b64e45168dac92f03989d14f</title>
<path fill="none" stroke="#7b8894" d="M1047.17,-265C1061.01,-265 1076.18,-265 1090.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="1090.81,-268.5 1100.81,-265 1090.81,-261.5 1090.81,-268.5" />
</g>
<!-- 1494ee51c2474f8691f0a616df469a7a -->
<g id="node11" class="node">
<title>1494ee51c2474f8691f0a616df469a7a</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1256" y="-315.5" />
<text text-anchor="middle" x="1306.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Lens &amp; Beam Adjustments</text>
</g>
<!-- c309dfe4b64e45168dac92f03989d14f&#45;&gt;1494ee51c2474f8691f0a616df469a7a -->
<g id="edge11" class="edge">
<title>c309dfe4b64e45168dac92f03989d14f-&gt;1494ee51c2474f8691f0a616df469a7a</title>
<path fill="none" stroke="#7b8894" d="M1202.17,-265C1216.01,-265 1231.18,-265 1245.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="1245.81,-268.5 1255.81,-265 1245.81,-261.5 1245.81,-268.5" />
</g>
<!-- 7d0aed3486224e299a8d3b41585410df -->
<g id="node12" class="node">
<title>7d0aed3486224e299a8d3b41585410df</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1411" y="-315.5" />
<text text-anchor="middle" x="1461.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Brightfield Imaging</text>
</g>
<!-- 1494ee51c2474f8691f0a616df469a7a&#45;&gt;7d0aed3486224e299a8d3b41585410df -->
<g id="edge12" class="edge">
<title>1494ee51c2474f8691f0a616df469a7a-&gt;7d0aed3486224e299a8d3b41585410df</title>
<path fill="none" stroke="#7b8894" d="M1357.17,-265C1371.01,-265 1386.18,-265 1400.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="1400.81,-268.5 1410.81,-265 1400.81,-261.5 1400.81,-268.5" />
</g>
<!-- 10544a024b244968adcfd36c704ab6b6 -->
<g id="node13" class="node">
<title>10544a024b244968adcfd36c704ab6b6</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1566" y="-315.5" />
<text text-anchor="middle" x="1616.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Lens Correction Montage</text>
</g>
<!-- 7d0aed3486224e299a8d3b41585410df&#45;&gt;10544a024b244968adcfd36c704ab6b6 -->
<g id="edge13" class="edge">
<title>7d0aed3486224e299a8d3b41585410df-&gt;10544a024b244968adcfd36c704ab6b6</title>
<path fill="none" stroke="#7b8894" d="M1512.17,-265C1526.01,-265 1541.18,-265 1555.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="1555.81,-268.5 1565.81,-265 1555.81,-261.5 1555.81,-268.5" />
</g>
<!-- a70400d8454d4a6a9f8fd73606983376 -->
<g id="node14" class="node">
<title>a70400d8454d4a6a9f8fd73606983376</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1721" y="-315.5" />
<text text-anchor="middle" x="1771.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Finalizing &amp; Error Handling</text>
</g>
<!-- 10544a024b244968adcfd36c704ab6b6&#45;&gt;a70400d8454d4a6a9f8fd73606983376 -->
<g id="edge14" class="edge">
<title>10544a024b244968adcfd36c704ab6b6-&gt;a70400d8454d4a6a9f8fd73606983376</title>
<path fill="none" stroke="#7b8894" d="M1667.17,-265C1681.01,-265 1696.18,-265 1710.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="1710.81,-268.5 1720.81,-265 1710.81,-261.5 1710.81,-268.5" />
</g>
<!-- c2e507222c9b442791a2dcd31be717c3 -->
<g id="node15" class="node">
<title>c2e507222c9b442791a2dcd31be717c3</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1876" y="-315.5" />
<text text-anchor="middle" x="1926.5" y="-200.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Set State to NONE</text>
</g>
<!-- a70400d8454d4a6a9f8fd73606983376&#45;&gt;c2e507222c9b442791a2dcd31be717c3 -->
<g id="edge15" class="edge">
<title>a70400d8454d4a6a9f8fd73606983376-&gt;c2e507222c9b442791a2dcd31be717c3</title>
<path fill="none" stroke="#7b8894" d="M1822.17,-265C1836.01,-265 1851.18,-265 1865.53,-265" />
<polygon fill="#7b8894" stroke="#7b8894" points="1865.81,-268.5 1875.81,-265 1865.81,-261.5 1865.81,-268.5" />
</g>
</g>
</svg></div>

<h2 id="acquisition-state">Acquisition State</h2>

<p>The Acquisition State represents the overall state of the acquisition loop in the system for imaging and processing data. It manages tasks related to moving the stage, capturing images, processing metadata, and handling various states during the acquisition process.</p>

<h3 id="acquisition-state-logic">Acquisition State Logic</h3>

<h4 id="main-acquisition-loop-activation">Main Acquisition Loop Activation</h4>

<p>The acquisition starts if both the main_acquisition_loop_active_event is set and _start_new_aperture() returns True.
Initialize variables and prepare for the acquisition sequence within a specific aperture.</p>

<h4 id="roi-acquisition-process">ROI Acquisition Process</h4>

<p>Iterate over each ROI in roi_list.</p>

<p>For each ROI:</p>

<ul>
  <li>Initialize the ROI and calculate the starting position.</li>
  <li>Move the stage to the initial position and wait for it to stabilize.</li>
  <li>Enter a nested loop to handle image capture for each tile in the ROI until there are no more positions to move to.
    <ul>
      <li>Set metadata for the image.</li>
      <li>Start camera exposure.</li>
      <li>If there was a previous image, wait for asynchronous processes to complete and possibly write metadata.</li>
      <li>Wait for the current exposure to complete.</li>
      <li>Get the next position and move the stage.</li>
      <li>Handle synchronization and stabilization of the stage.</li>
    </ul>
  </li>
  <li>After completing all tiles in the ROI, perform final processing such as writing metadata and resetting the stage to the starting position.</li>
</ul>

<h4 id="lens-correction-process">Lens Correction Process</h4>

<p>If lens correction is part of the current montage, attempt to correct lens distortions using template matching and solving algorithms. Multiple attempts are made, and if unsuccessful, a critical error event is logged.</p>

<h4 id="completion-and-metadata-handling">Completion and Metadata Handling</h4>

<p>Finalize the metadata file and write results to a database.
Create a robocopy file if not aborting.</p>

<h4 id="abort-or-switch-event">Abort or Switch Event</h4>

<p>If an abort signal is received or it’s time to switch to another aperture, the loop is terminated or adjusted accordingly.</p>

<h4 id="event-scheduling">Event Scheduling</h4>

<p>Schedule callbacks for events like “BACK_TO_SETUP” or “NEXT_APERTURE” based on the conditions met during the loop.</p>

<div class="diagram"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0.00 0.00 2316.00 792.00">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(144 648)">
<title>%3</title>
<g id="clust1" class="cluster">
<title>cluster_Outer Infinite Loop</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M985,-8C985,-8 1233,-8 1233,-8 1239,-8 1245,-14 1245,-20 1245,-20 1245,-171 1245,-171 1245,-177 1239,-183 1233,-183 1233,-183 985,-183 985,-183 979,-183 973,-177 973,-171 973,-171 973,-20 973,-20 973,-14 979,-8 985,-8" />
<text text-anchor="middle" x="1037.5" y="-169.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Outer Infinite Loop</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_Main Acquisition</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M1295,-8C1295,-8 1543,-8 1543,-8 1549,-8 1555,-14 1555,-20 1555,-20 1555,-171 1555,-171 1555,-177 1549,-183 1543,-183 1543,-183 1295,-183 1295,-183 1289,-183 1283,-177 1283,-171 1283,-171 1283,-20 1283,-20 1283,-14 1289,-8 1295,-8" />
<text text-anchor="middle" x="1339.5" y="-169.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Main Acquisition</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_ROI Acquisition Process</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M1605,-52C1605,-52 2008,-52 2008,-52 2014,-52 2020,-58 2020,-64 2020,-64 2020,-395 2020,-395 2020,-401 2014,-407 2008,-407 2008,-407 1605,-407 1605,-407 1599,-407 1593,-401 1593,-395 1593,-395 1593,-64 1593,-64 1593,-58 1599,-52 1605,-52" />
<text text-anchor="middle" x="1670.5" y="-393.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">ROI Acquisition Process</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_Per-Tile</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M518,-276C518,-276 1543,-276 1543,-276 1549,-276 1555,-282 1555,-288 1555,-288 1555,-484 1555,-484 1555,-490 1549,-496 1543,-496 1543,-496 518,-496 518,-496 512,-496 506,-490 506,-484 506,-484 506,-288 506,-288 506,-282 512,-276 518,-276" />
<text text-anchor="middle" x="535.5" y="-482.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Per-Tile</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_Lens Correction Process</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M12,-75C12,-75 146,-75 146,-75 152,-75 158,-81 158,-87 158,-87 158,-238 158,-238 158,-244 152,-250 146,-250 146,-250 12,-250 12,-250 6,-250 0,-244 0,-238 0,-238 0,-87 0,-87 0,-81 6,-75 12,-75" />
<text text-anchor="middle" x="79" y="-236.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Lens Correction Process</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_Completion &amp; Metadata Handling</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M208,-8C208,-8 456,-8 456,-8 462,-8 468,-14 468,-20 468,-20 468,-171 468,-171 468,-177 462,-183 456,-183 456,-183 208,-183 208,-183 202,-183 196,-177 196,-171 196,-171 196,-20 196,-20 196,-14 202,-8 208,-8" />
<text text-anchor="middle" x="303.5" y="-169.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Completion &amp; Metadata Handling</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_Abort or Switch Event</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M518,-8C518,-8 766,-8 766,-8 772,-8 778,-14 778,-20 778,-20 778,-171 778,-171 778,-177 772,-183 766,-183 766,-183 518,-183 518,-183 512,-183 506,-177 506,-171 506,-171 506,-20 506,-20 506,-14 512,-8 518,-8" />
<text text-anchor="middle" x="579" y="-169.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Abort or Switch Event</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_Event Scheduling</title>
<path fill="#e5f5fd" stroke="#aeb6be" d="M828,-8C828,-8 923,-8 923,-8 929,-8 935,-14 935,-20 935,-20 935,-171 935,-171 935,-177 929,-183 923,-183 923,-183 828,-183 828,-183 822,-183 816,-177 816,-171 816,-171 816,-20 816,-20 816,-14 822,-8 828,-8" />
<text text-anchor="middle" x="875.5" y="-169.4" font-family="Sans-Serif" font-size="12.00" fill="#2d3436">Event Scheduling</text>
</g>
<!-- 508f1d091e4149cabd423e9e989d9f59 -->
<g id="node1" class="node">
<title>508f1d091e4149cabd423e9e989d9f59</title>
<image xlink:href="/icons/start-end.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1136" y="-135.5" />
<text text-anchor="middle" x="1186.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Start Outer Loop</text>
</g>
<!-- d900359482e941839e01449f17d15f5f -->
<g id="node3" class="node">
<title>d900359482e941839e01449f17d15f5f</title>
<image xlink:href="/icons/decision.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1291" y="-135.5" />
<text text-anchor="middle" x="1341.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Check Activation &amp; Start</text>
</g>
<!-- 508f1d091e4149cabd423e9e989d9f59&#45;&gt;d900359482e941839e01449f17d15f5f -->
<g id="edge1" class="edge">
<title>508f1d091e4149cabd423e9e989d9f59-&gt;d900359482e941839e01449f17d15f5f</title>
<path fill="none" stroke="#7b8894" d="M1237.17,-85C1251.01,-85 1266.18,-85 1280.53,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="1280.81,-88.5 1290.81,-85 1280.81,-81.5 1280.81,-88.5" />
</g>
<!-- 3be04e5e4b154cd992b01a0784ed7849 -->
<g id="node2" class="node">
<title>3be04e5e4b154cd992b01a0784ed7849</title>
<image xlink:href="/icons/start-end.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="981" y="-135.5" />
<text text-anchor="middle" x="1031.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">End Outer Loop</text>
</g>
<!-- 3be04e5e4b154cd992b01a0784ed7849&#45;&gt;508f1d091e4149cabd423e9e989d9f59 -->
<g id="edge22" class="edge">
<title>3be04e5e4b154cd992b01a0784ed7849-&gt;508f1d091e4149cabd423e9e989d9f59</title>
<path fill="none" stroke="#7b8894" d="M1082.17,-85C1096.01,-85 1111.18,-85 1125.53,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="1125.81,-88.5 1135.81,-85 1125.81,-81.5 1125.81,-88.5" />
</g>
<!-- 6b3bae7aa9924e17acaa485f2499603c -->
<g id="node4" class="node">
<title>6b3bae7aa9924e17acaa485f2499603c</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1446" y="-135.5" />
<text text-anchor="middle" x="1496.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Initialize &amp; Prepare Acquisition</text>
</g>
<!-- d900359482e941839e01449f17d15f5f&#45;&gt;6b3bae7aa9924e17acaa485f2499603c -->
<g id="edge2" class="edge">
<title>d900359482e941839e01449f17d15f5f-&gt;6b3bae7aa9924e17acaa485f2499603c</title>
<path fill="none" stroke="#7b8894" d="M1392.17,-85C1406.01,-85 1421.18,-85 1435.53,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="1435.81,-88.5 1445.81,-85 1435.81,-81.5 1435.81,-88.5" />
</g>
<!-- 19f3069fcad146c38cde54b1f2478037 -->
<g id="node5" class="node">
<title>19f3069fcad146c38cde54b1f2478037</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1601" y="-179.5" />
<text text-anchor="middle" x="1651.5" y="-64.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">For Each ROI</text>
</g>
<!-- 6b3bae7aa9924e17acaa485f2499603c&#45;&gt;19f3069fcad146c38cde54b1f2478037 -->
<g id="edge3" class="edge">
<title>6b3bae7aa9924e17acaa485f2499603c-&gt;19f3069fcad146c38cde54b1f2478037</title>
<path fill="none" stroke="#7b8894" d="M1547.17,-99.29C1561.14,-103.3 1576.47,-107.71 1590.95,-111.88" />
<polygon fill="#7b8894" stroke="#7b8894" points="1590.24,-115.31 1600.81,-114.71 1592.17,-108.58 1590.24,-115.31" />
</g>
<!-- 27ba08d416e94c70a5a332515b185066 -->
<g id="node6" class="node">
<title>27ba08d416e94c70a5a332515b185066</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1756" y="-269.5" />
<text text-anchor="middle" x="1806.5" y="-154.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Initialize ROI &amp; Calculate Position</text>
</g>
<!-- 19f3069fcad146c38cde54b1f2478037&#45;&gt;27ba08d416e94c70a5a332515b185066 -->
<g id="edge4" class="edge">
<title>19f3069fcad146c38cde54b1f2478037-&gt;27ba08d416e94c70a5a332515b185066</title>
<path fill="none" stroke="#7b8894" d="M1702.17,-158.22C1716.41,-166.59 1732.06,-175.8 1746.79,-184.46" />
<polygon fill="#7b8894" stroke="#7b8894" points="1745.42,-187.72 1755.81,-189.77 1748.97,-181.69 1745.42,-187.72" />
</g>
<!-- 59faa9cd43524f2790d1fd70663d0e87 -->
<g id="node7" class="node">
<title>59faa9cd43524f2790d1fd70663d0e87</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1911" y="-269.5" />
<text text-anchor="middle" x="1961.5" y="-154.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Move &amp; Stabilize Stage</text>
</g>
<!-- 27ba08d416e94c70a5a332515b185066&#45;&gt;59faa9cd43524f2790d1fd70663d0e87 -->
<g id="edge5" class="edge">
<title>27ba08d416e94c70a5a332515b185066-&gt;59faa9cd43524f2790d1fd70663d0e87</title>
<path fill="none" stroke="#7b8894" d="M1857.17,-219C1871.01,-219 1886.18,-219 1900.53,-219" />
<polygon fill="#7b8894" stroke="#7b8894" points="1900.81,-222.5 1910.81,-219 1900.81,-215.5 1900.81,-222.5" />
</g>
<!-- 751be4228aa7409694da9627906bf1fb -->
<g id="node9" class="node">
<title>751be4228aa7409694da9627906bf1fb</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="514" y="-448.5" />
<text text-anchor="middle" x="564.5" y="-333.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Set Metadata for Each Tile</text>
</g>
<!-- 59faa9cd43524f2790d1fd70663d0e87&#45;&gt;751be4228aa7409694da9627906bf1fb -->
<g id="edge6" class="edge">
<title>59faa9cd43524f2790d1fd70663d0e87-&gt;751be4228aa7409694da9627906bf1fb</title>
<path fill="none" stroke="#7b8894" d="M1910.66,-225.51C1695.23,-253.12 858.12,-360.38 625.04,-390.24" />
<polygon fill="#7b8894" stroke="#7b8894" points="624.52,-386.78 615.05,-391.52 625.41,-393.72 624.52,-386.78" />
</g>
<!-- 7e5b43bef60a44158ba9c0030d80da84 -->
<g id="node8" class="node">
<title>7e5b43bef60a44158ba9c0030d80da84</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1601" y="-359.5" />
<text text-anchor="middle" x="1651.5" y="-244.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Finalize ROI</text>
</g>
<!-- 628dc81a94c7494ab168e8e5819dca55 -->
<g id="node16" class="node">
<title>628dc81a94c7494ab168e8e5819dca55</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="28" y="-202.5" />
<text text-anchor="middle" x="78.5" y="-87.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Correct Lens Distortions</text>
</g>
<!-- 7e5b43bef60a44158ba9c0030d80da84&#45;&gt;628dc81a94c7494ab168e8e5819dca55 -->
<g id="edge15" class="edge">
<title>7e5b43bef60a44158ba9c0030d80da84-&gt;628dc81a94c7494ab168e8e5819dca55</title>
<path fill="none" stroke="#7b8894" d="M1600.74,-303.93C1366.77,-280.58 392.96,-183.39 139.19,-158.06" />
<polygon fill="#7b8894" stroke="#7b8894" points="139.35,-154.56 129.05,-157.05 138.66,-161.52 139.35,-154.56" />
</g>
<!-- d3c998ea60bb469baab248da6fd57df1 -->
<g id="node10" class="node">
<title>d3c998ea60bb469baab248da6fd57df1</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="669" y="-403.5" />
<text text-anchor="middle" x="719.5" y="-288.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Start Camera Exposure</text>
</g>
<!-- 751be4228aa7409694da9627906bf1fb&#45;&gt;d3c998ea60bb469baab248da6fd57df1 -->
<g id="edge7" class="edge">
<title>751be4228aa7409694da9627906bf1fb-&gt;d3c998ea60bb469baab248da6fd57df1</title>
<path fill="none" stroke="#7b8894" d="M615.17,-383.39C629.14,-379.28 644.47,-374.77 658.95,-370.51" />
<polygon fill="#7b8894" stroke="#7b8894" points="660.21,-373.79 668.81,-367.61 658.23,-367.08 660.21,-373.79" />
</g>
<!-- 5b77eb97fe47435998791dc689da8b51 -->
<g id="node11" class="node">
<title>5b77eb97fe47435998791dc689da8b51</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="825" y="-403.5" />
<text text-anchor="middle" x="875.5" y="-288.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Handle Async &amp; Write Metadata</text>
</g>
<!-- d3c998ea60bb469baab248da6fd57df1&#45;&gt;5b77eb97fe47435998791dc689da8b51 -->
<g id="edge8" class="edge">
<title>d3c998ea60bb469baab248da6fd57df1-&gt;5b77eb97fe47435998791dc689da8b51</title>
<path fill="none" stroke="#7b8894" d="M770.07,-353C784.29,-353 799.94,-353 814.71,-353" />
<polygon fill="#7b8894" stroke="#7b8894" points="814.75,-356.5 824.75,-353 814.75,-349.5 814.75,-356.5" />
</g>
<!-- 3dfbd571482047adaccfa443e140d158 -->
<g id="node12" class="node">
<title>3dfbd571482047adaccfa443e140d158</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="981" y="-403.5" />
<text text-anchor="middle" x="1031.5" y="-288.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Complete Exposure</text>
</g>
<!-- 5b77eb97fe47435998791dc689da8b51&#45;&gt;3dfbd571482047adaccfa443e140d158 -->
<g id="edge9" class="edge">
<title>5b77eb97fe47435998791dc689da8b51-&gt;3dfbd571482047adaccfa443e140d158</title>
<path fill="none" stroke="#7b8894" d="M926.07,-353C940.29,-353 955.94,-353 970.71,-353" />
<polygon fill="#7b8894" stroke="#7b8894" points="970.75,-356.5 980.75,-353 970.75,-349.5 970.75,-356.5" />
</g>
<!-- cebda767f35844d49b33c12a2dab2d62 -->
<g id="node13" class="node">
<title>cebda767f35844d49b33c12a2dab2d62</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1136" y="-403.5" />
<text text-anchor="middle" x="1186.5" y="-288.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Get Next Position</text>
</g>
<!-- 3dfbd571482047adaccfa443e140d158&#45;&gt;cebda767f35844d49b33c12a2dab2d62 -->
<g id="edge10" class="edge">
<title>3dfbd571482047adaccfa443e140d158-&gt;cebda767f35844d49b33c12a2dab2d62</title>
<path fill="none" stroke="#7b8894" d="M1082.17,-353C1096.01,-353 1111.18,-353 1125.53,-353" />
<polygon fill="#7b8894" stroke="#7b8894" points="1125.81,-356.5 1135.81,-353 1125.81,-349.5 1125.81,-356.5" />
</g>
<!-- 2b607958c32745bdb6e4aeafe2d8d362 -->
<g id="node14" class="node">
<title>2b607958c32745bdb6e4aeafe2d8d362</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1291" y="-403.5" />
<text text-anchor="middle" x="1341.5" y="-288.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Stabilize Stage</text>
</g>
<!-- cebda767f35844d49b33c12a2dab2d62&#45;&gt;2b607958c32745bdb6e4aeafe2d8d362 -->
<g id="edge11" class="edge">
<title>cebda767f35844d49b33c12a2dab2d62-&gt;2b607958c32745bdb6e4aeafe2d8d362</title>
<path fill="none" stroke="#7b8894" d="M1237.17,-353C1251.01,-353 1266.18,-353 1280.53,-353" />
<polygon fill="#7b8894" stroke="#7b8894" points="1280.81,-356.5 1290.81,-353 1280.81,-349.5 1280.81,-356.5" />
</g>
<!-- 1bd10fefe871400ca78a6e5f9bc5c404 -->
<g id="node15" class="node">
<title>1bd10fefe871400ca78a6e5f9bc5c404</title>
<image xlink:href="/icons/decision.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="1446" y="-403.5" />
<text text-anchor="middle" x="1496.5" y="-288.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">More Tiles?</text>
</g>
<!-- 2b607958c32745bdb6e4aeafe2d8d362&#45;&gt;1bd10fefe871400ca78a6e5f9bc5c404 -->
<g id="edge12" class="edge">
<title>2b607958c32745bdb6e4aeafe2d8d362-&gt;1bd10fefe871400ca78a6e5f9bc5c404</title>
<path fill="none" stroke="#7b8894" d="M1392.17,-353C1406.01,-353 1421.18,-353 1435.53,-353" />
<polygon fill="#7b8894" stroke="#7b8894" points="1435.81,-356.5 1445.81,-353 1435.81,-349.5 1435.81,-356.5" />
</g>
<!-- 1bd10fefe871400ca78a6e5f9bc5c404&#45;&gt;7e5b43bef60a44158ba9c0030d80da84 -->
<g id="edge14" class="edge">
<title>1bd10fefe871400ca78a6e5f9bc5c404-&gt;7e5b43bef60a44158ba9c0030d80da84</title>
<path fill="none" stroke="#7b8894" d="M1547.17,-338.71C1561.14,-334.7 1576.47,-330.29 1590.95,-326.12" />
<polygon fill="#7b8894" stroke="#7b8894" points="1592.17,-329.42 1600.81,-323.29 1590.24,-322.69 1592.17,-329.42" />
</g>
<!-- 1bd10fefe871400ca78a6e5f9bc5c404&#45;&gt;751be4228aa7409694da9627906bf1fb -->
<g id="edge13" class="edge">
<title>1bd10fefe871400ca78a6e5f9bc5c404-&gt;751be4228aa7409694da9627906bf1fb</title>
<path fill="none" stroke="#7b8894" d="M1445.97,-355.44C1287.07,-363.11 797.88,-386.73 625.44,-395.06" />
<polygon fill="#7b8894" stroke="#7b8894" points="625.09,-391.57 615.27,-395.55 625.43,-398.56 625.09,-391.57" />
</g>
<!-- e117e016e49b4a849a9b08a7f785f862 -->
<g id="node17" class="node">
<title>e117e016e49b4a849a9b08a7f785f862</title>
<image xlink:href="/icons/predefined-process.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="204" y="-135.5" />
<text text-anchor="middle" x="254.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Finalize Metadata</text>
</g>
<!-- 628dc81a94c7494ab168e8e5819dca55&#45;&gt;e117e016e49b4a849a9b08a7f785f862 -->
<g id="edge16" class="edge">
<title>628dc81a94c7494ab168e8e5819dca55-&gt;e117e016e49b4a849a9b08a7f785f862</title>
<path fill="none" stroke="#7b8894" d="M129.36,-132.8C149.65,-124.99 173.26,-115.9 194.41,-107.75" />
<polygon fill="#7b8894" stroke="#7b8894" points="195.86,-110.95 203.93,-104.09 193.34,-104.41 195.86,-110.95" />
</g>
<!-- dc6c0ea161904c069bdc058d5448dc75 -->
<g id="node18" class="node">
<title>dc6c0ea161904c069bdc058d5448dc75</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="359" y="-135.5" />
<text text-anchor="middle" x="409.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Create Robocopy File</text>
</g>
<!-- e117e016e49b4a849a9b08a7f785f862&#45;&gt;dc6c0ea161904c069bdc058d5448dc75 -->
<g id="edge17" class="edge">
<title>e117e016e49b4a849a9b08a7f785f862-&gt;dc6c0ea161904c069bdc058d5448dc75</title>
<path fill="none" stroke="#7b8894" d="M305.17,-85C319.01,-85 334.18,-85 348.53,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="348.81,-88.5 358.81,-85 348.81,-81.5 348.81,-88.5" />
</g>
<!-- 02b159098abd4ea8a864ff0e518a3d0b -->
<g id="node19" class="node">
<title>02b159098abd4ea8a864ff0e518a3d0b</title>
<image xlink:href="/icons/decision.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="514" y="-135.5" />
<text text-anchor="middle" x="564.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Check for Abort or Switch</text>
</g>
<!-- dc6c0ea161904c069bdc058d5448dc75&#45;&gt;02b159098abd4ea8a864ff0e518a3d0b -->
<g id="edge18" class="edge">
<title>dc6c0ea161904c069bdc058d5448dc75-&gt;02b159098abd4ea8a864ff0e518a3d0b</title>
<path fill="none" stroke="#7b8894" d="M460.17,-85C474.01,-85 489.18,-85 503.53,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="503.81,-88.5 513.81,-85 503.81,-81.5 503.81,-88.5" />
</g>
<!-- e4a32cb39788419796d119d9b1fa482d -->
<g id="node20" class="node">
<title>e4a32cb39788419796d119d9b1fa482d</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="669" y="-135.5" />
<text text-anchor="middle" x="719.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Handle Abort</text>
</g>
<!-- 02b159098abd4ea8a864ff0e518a3d0b&#45;&gt;e4a32cb39788419796d119d9b1fa482d -->
<g id="edge19" class="edge">
<title>02b159098abd4ea8a864ff0e518a3d0b-&gt;e4a32cb39788419796d119d9b1fa482d</title>
<path fill="none" stroke="#7b8894" d="M615.17,-85C629.01,-85 644.18,-85 658.53,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="658.81,-88.5 668.81,-85 658.81,-81.5 658.81,-88.5" />
</g>
<!-- 4b1ae6d568c6446c840a62ca50a67ccd -->
<g id="node21" class="node">
<title>4b1ae6d568c6446c840a62ca50a67ccd</title>
<image xlink:href="/icons/action.png" width="101px" height="101px" preserveAspectRatio="xMinYMin meet" x="825" y="-135.5" />
<text text-anchor="middle" x="875.5" y="-20.1" font-family="Sans-Serif" font-size="13.00" fill="#2d3436">Schedule Events</text>
</g>
<!-- e4a32cb39788419796d119d9b1fa482d&#45;&gt;4b1ae6d568c6446c840a62ca50a67ccd -->
<g id="edge20" class="edge">
<title>e4a32cb39788419796d119d9b1fa482d-&gt;4b1ae6d568c6446c840a62ca50a67ccd</title>
<path fill="none" stroke="#7b8894" d="M770.07,-85C784.29,-85 799.94,-85 814.71,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="814.75,-88.5 824.75,-85 814.75,-81.5 814.75,-88.5" />
</g>
<!-- 4b1ae6d568c6446c840a62ca50a67ccd&#45;&gt;3be04e5e4b154cd992b01a0784ed7849 -->
<g id="edge21" class="edge">
<title>4b1ae6d568c6446c840a62ca50a67ccd-&gt;3be04e5e4b154cd992b01a0784ed7849</title>
<path fill="none" stroke="#7b8894" d="M926.07,-85C940.29,-85 955.94,-85 970.71,-85" />
<polygon fill="#7b8894" stroke="#7b8894" points="970.75,-88.5 980.75,-85 970.75,-81.5 970.75,-88.5" />
</g>
</g>
</svg></div>

<h2 id="error-state">Error State</h2>


</div>
    </div>
</div>
        <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer__middle-section">
    
  </div>
  <div class="mdl-mega-footer__bottom-section">
    <ul class="mdl-mega-footer__link-list">
      
    </ul>
  </div>
</footer>

      </main>
    </div>
  </body>
</html>

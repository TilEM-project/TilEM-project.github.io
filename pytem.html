<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>pyTEM - TEM Architecture</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
<!-- <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.-.min.css"/> -->
<link rel="stylesheet" href="/TEM_architecture/assets/css/style.css"/>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/font-awesome.min.css"> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  }
};
</script>

  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <!-- <div class="mdl-layout--fixed-header mdl-layout__header--scroll"> -->
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout-title">
        <a href="/TEM_architecture/">TEM Architecture</a>
      </span>
      <div class="mdl-layout-spacer mdl-layout--large-screen-only"></div>
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        
          <a class="mdl-navigation__link" href="/TEM_architecture/topics.html">Topics</a>
        
          <a class="mdl-navigation__link" href="/TEM_architecture/assignments.html">Assignments</a>
        
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">TEM Architecture</span>
    <nav class="mdl-navigation">
      
        <a class="mdl-navigation__link" href="/TEM_architecture/topics.html">Topics</a>
        
      
        <a class="mdl-navigation__link" href="/TEM_architecture/assignments.html">Assignments</a>
        
      
        <a class="mdl-navigation__link" href="/TEM_architecture/unassigned.html">Unassigned</a>
        
      
    </nav>
  </div>
<!-- </div> -->

      <main class="mdl-layout__content">
        <div class="mdl-grid page-container">
    <div class="mdl-card mdl-cell--12-col mdl-shadow--4dp">
        <div class="mdl-card__title">
            <h2 class="mdl-card__title--text">
                pyTEM
            </h2>
        </div>
        
  <div class="mdl-card__supporting-text mdl-card--border">
    
      <p style="font-size: large;" class="mdl-card__subtitle-text">
        <i style="color:black;" class="fab fa-github"></i>
        <a href="https://github.com/AllenInstitute/pytem">AllenInstitute/pytem</a>
      </p>
    
    
      
      <p class="mdl-card__subtitle-text contributor-info">
        Assigned: Cameron Devine
        
          <a href="https://github.com/CameronDevine"><i class="fab fa-github"></i></a>
          <a href="mailto:cameron.devine@alleninstitute.org"><i class="fa fa-envelope"></i></a>
          <a href="https://aianatomy.slack.com/team/U06Q6V475JQ"><i class="fab fa-slack"></i></a></p>
    
    
      <h3>Sends</h3>
      <ul>
        
        
          <li><a href="/TEM_architecture/topics.html#camera-command">camera.command</a></li>
        
          <li><a href="/TEM_architecture/topics.html#camera-settings">camera.settings</a></li>
        
          <li><a href="/TEM_architecture/topics.html#montage-finished">montage.finished</a></li>
        
          <li><a href="/TEM_architecture/topics.html#montage-start">montage.start</a></li>
        
          <li><a href="/TEM_architecture/topics.html#scope-command">scope.command</a></li>
        
          <li><a href="/TEM_architecture/topics.html#stage-aperture-command">stage.aperture.command</a></li>
        
          <li><a href="/TEM_architecture/topics.html#stage-motion-command">stage.motion.command</a></li>
        
          <li><a href="/TEM_architecture/topics.html#stage-rotation-command">stage.rotation.command</a></li>
        
          <li><a href="/TEM_architecture/topics.html#tile-raw">tile.raw</a></li>
        
      </ul>
    
    
      <h3>Receives</h3>
      <ul>
        
        
          <li><a href="/TEM_architecture/topics.html#camera-image">camera.image</a></li>
        
          <li><a href="/TEM_architecture/topics.html#camera-status">camera.status</a></li>
        
          <li><a href="/TEM_architecture/topics.html#scope-status">scope.status</a></li>
        
          <li><a href="/TEM_architecture/topics.html#stage-aperture-status">stage.aperture.status</a></li>
        
          <li><a href="/TEM_architecture/topics.html#stage-motion-status">stage.motion.status</a></li>
        
          <li><a href="/TEM_architecture/topics.html#stage-rotation-status">stage.rotation.status</a></li>
        
      </ul>
    
  </div>

<div class="mdl-card__supporting-text">
  
  <p>pyTEM is the main hierarchical state machine orchestrating all the components.
This service uses the <a href="https://pigeon.readthedocs.io/en/latest/">Pigeon</a> client for communication via the <a href="/TEM_architecture/broker.html">message broker</a>.
Furthermore, a <a href="https://github.com/AllenInstitute/pigeon-transitions">library</a> integrating Pigeon and the Python <a href="https://github.com/pytransitions/transitions">Transitions</a> library to allow easy creation of the state machine.
This library can also create state transition diagrams of the state machine:</p>

<p><img src="/TEM_architecture/graph.png" alt="State Diagram" /></p>

<p>Historically, orchestration of all components was accomplished using <a href="https://github.com/AllenInstitute/pytemca">pytemca</a> documented <a href="/TEM_architecture/pytemca.html">here</a>.</p>

</div>
    </div>
</div>
        <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer__middle-section">
    
  </div>
  <div class="mdl-mega-footer__bottom-section">
    <ul class="mdl-mega-footer__link-list">
      
    </ul>
  </div>
</footer>

      </main>
    </div>
  </body>
</html>

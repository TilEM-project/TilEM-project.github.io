<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Stage Service - TEM Architecture</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css"/>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
<!-- <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.-.min.css"/> -->
<link rel="stylesheet" href="/TEM_architecture/assets/css/style.css"/>
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/font-awesome.min.css"> -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script>
  window.MathJax = {
  tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']]
  }
};
</script>

  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <!-- <div class="mdl-layout--fixed-header mdl-layout__header--scroll"> -->
  <header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
      <span class="mdl-layout-title">
        <a href="/">TEM Architecture</a>
      </span>
      <div class="mdl-layout-spacer mdl-layout--large-screen-only"></div>
      <nav class="mdl-navigation mdl-layout--large-screen-only">
        
          <a class="mdl-navigation__link" href="/topics.html">Topics</a>
        
          <a class="mdl-navigation__link" href="/assignments.html">Assignments</a>
        
      </nav>
    </div>
  </header>
  <div class="mdl-layout__drawer">
    <span class="mdl-layout-title">TEM Architecture</span>
    <nav class="mdl-navigation">
      
        <a class="mdl-navigation__link" href="/topics.html">Topics</a>
        
      
        <a class="mdl-navigation__link" href="/assignments.html">Assignments</a>
        
      
        <a class="mdl-navigation__link" href="/unassigned.html">Unassigned</a>
        
      
    </nav>
  </div>
<!-- </div> -->

      <main class="mdl-layout__content">
        <div class="mdl-grid page-container">
    <div class="mdl-card mdl-cell--12-col mdl-shadow--4dp">
        <div class="mdl-card__title">
            <h2 class="mdl-card__title--text">
                Stage Service
            </h2>
        </div>
        
  <div class="mdl-card__supporting-text mdl-card--border">
    
    
      
      <p class="mdl-card__subtitle-text contributor-info">
        Assigned: Cameron Devine
        
          <a href="https://github.com/CameronDevine"><i class="fab fa-github"></i></a>
          <a href="mailto:cameron.devine@alleninstitute.org"><i class="fa fa-envelope"></i></a>
          <a href="https://aianatomy.slack.com/team/U06Q6V475JQ"><i class="fab fa-slack"></i></a></p>
    
    
      <h3>Sends</h3>
      <ul>
        
        
          <li><a href="/topics.html#stage-aperture-status">stage.aperture.status</a></li>
        
          <li><a href="/topics.html#stage-motion-status">stage.motion.status</a></li>
        
      </ul>
    
    
      <h3>Receives</h3>
      <ul>
        
        
          <li><a href="/topics.html#stage-aperture-command">stage.aperture.command</a></li>
        
          <li><a href="/topics.html#stage-motion-command">stage.motion.command</a></li>
        
      </ul>
    
  </div>

<div class="mdl-card__supporting-text">
  <p>The stage service abstracts the interfaces of the various hardware components related to positioning and transitioning between apertures.
This service can be split into three components, moving between apertures, rotating samples, and positioning samples.</p>

<p>For changing between apertures, two topics are used, <a href="/topics.html#stage-aperture-command"><code class="language-plaintext highlighter-rouge">stage.aperture.command</code></a> and <a href="/topics.html#stage-aperture-status"><code class="language-plaintext highlighter-rouge">stage.aperture.status</code></a>.
The <code class="language-plaintext highlighter-rouge">stage.aperture.command</code> topic is used to send commands to the hardware to change the aperture, and/or optionally calibrate the hardware.
The <code class="language-plaintext highlighter-rouge">stage.aperture.status</code> topic normally has a message published at a frequency of no less than 1 Hz, at a frequency of no less than 20 Hz when in motion, and immediately once any motion is complete.
This message contains the status of the hardware including the ID of the current aperture, if the hardware is calibrated, along with any errors.</p>

<p>For moving the stages, two topics are used, <a href="/topics.html#stage-motion-command"><code class="language-plaintext highlighter-rouge">stage.motion.command</code></a> and <a href="/topics.html#stage-motion-status"><code class="language-plaintext highlighter-rouge">stage.motion.status</code></a>.
The <code class="language-plaintext highlighter-rouge">stage.motion.command</code> topic is used to send commands to the stages.
The <code class="language-plaintext highlighter-rouge">stage.motion.status</code> topic normally has a message published at a frequency of no less than 1 Hz, at a frequency of no less the 50 Hz when in motion, and immediately once motion is complete.
This message contains the status of the hardware including the current locations of the stages, along with other information.</p>

</div>
    </div>
</div>
        <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer__middle-section">
    
  </div>
  <div class="mdl-mega-footer__bottom-section">
    <ul class="mdl-mega-footer__link-list">
      
    </ul>
  </div>
</footer>

      </main>
    </div>
  </body>
</html>
